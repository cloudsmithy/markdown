[
  {
    "title": "æœªå‘½å",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": null,
    "url": "obsidian://open?vault=markdown&file=%E6%9C%AA%E5%91%BD%E5%90%8D.md",
    "lang": "en",
    "filepath": "æœªå‘½å.md",
    "content": "# ä»»åŠ¡åˆ—è¡¨\n- [ ] å®Œæˆé¡¹ç›®æŠ¥å‘Šï¼ˆæˆªæ­¢ï¼š{{date}}ï¼‰"
  },
  {
    "title": "README",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=README.md",
    "lang": "en",
    "filepath": "README.md",
    "content": ""
  },
  {
    "title": "æœªå‘½å 1",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E6%9C%AA%E5%91%BD%E5%90%8D%201.md",
    "lang": "en",
    "filepath": "æœªå‘½å 1.md",
    "content": ""
  },
  {
    "title": "åœ¨å®¶ç‚–ä¸€é”…æš–å¿ƒæš–èƒƒçš„æ’éª¨è²è—•æ±¤",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E7%BE%8E%E9%A3%9F/%E5%9C%A8%E5%AE%B6%E7%82%96%E4%B8%80%E9%94%85%E6%9A%96%E5%BF%83%E6%9A%96%E8%83%83%E7%9A%84%E6%8E%92%E9%AA%A8%E8%8E%B2%E8%97%95%E6%B1%A4.md",
    "lang": "en",
    "filepath": "ç¾é£Ÿ/åœ¨å®¶ç‚–ä¸€é”…æš–å¿ƒæš–èƒƒçš„æ’éª¨è²è—•æ±¤.md",
    "content": ""
  },
  {
    "title": "æ›´æ–°è®¡åˆ’",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E5%85%AC%E4%BC%97%E5%8F%B7%E5%BE%85%E5%8F%91%E5%B8%83/%E6%9B%B4%E6%96%B0%E8%AE%A1%E5%88%92.md",
    "lang": "en",
    "filepath": "å…¬ä¼—å·å¾…å‘å¸ƒ/æ›´æ–°è®¡åˆ’.md",
    "content": ""
  },
  {
    "title": "é‡ç”Ÿä¹‹æœç”«æ˜¯ç©¿è¶Šäºº",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E5%85%AC%E4%BC%97%E5%8F%B7%E5%BE%85%E5%8F%91%E5%B8%83/%E8%8D%89%E7%A8%BF/%E9%87%8D%E7%94%9F%E4%B9%8B%E6%9D%9C%E7%94%AB%E6%98%AF%E7%A9%BF%E8%B6%8A%E4%BA%BA.md",
    "lang": "en",
    "filepath": "å…¬ä¼—å·å¾…å‘å¸ƒ/è‰ç¨¿/é‡ç”Ÿä¹‹æœç”«æ˜¯ç©¿è¶Šäºº.md",
    "content": ""
  },
  {
    "title": "æ­å·æ¸¸è®°",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E5%85%AC%E4%BC%97%E5%8F%B7%E5%BE%85%E5%8F%91%E5%B8%83/%E8%8D%89%E7%A8%BF/%E6%9D%AD%E5%B7%9E%E6%B8%B8%E8%AE%B0.md",
    "lang": "en",
    "filepath": "å…¬ä¼—å·å¾…å‘å¸ƒ/è‰ç¨¿/æ­å·æ¸¸è®°.md",
    "content": "åœ¨è¥¿æ¹–ï¼Œå†ç»å‰é¢çš„è¯—è¯ï¼Œæ€»æ˜¯å’Œç°åœ¨å¯¹æ™¯è§‚å¯¹çš„ä¸Šçš„ã€‚\n\n\nè‹å°å°å¢“çš„ä¸è¿œå¤„ï¼Œæ˜¯ç§‹ç‘¾å¢“ã€‚\n\nç™½å ¤\n\n\n\næœ‰å¤„æ™¯ç‚¹å«åšæ–­æ¡¥æ®‹é›ªï¼Œæ®è¯´åœ¨å†¬å­£é‡Œå…¶ä¸­ä¸€éƒ¨åˆ†è¢«å¤§é›ªè¦†ç›–åƒä¼¼æ–­æ¡¥è€Œå¾—åï¼Œä»è¿™èµ°ä¸ªå‡ºå»ï¼Œè·¯è¾¹æœ‰äººåˆå”±ï¼Œè®¸åµ©çš„æ­Œã€‚\n\nè¥¿æ³ \n----\nè‹è½¼ï¼Œæ¨ä¸‡é‡Œï¼Œç™½å±…æ˜“"
  },
  {
    "title": "æ‰“å·¥äººå•å¸ƒ",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E5%85%AC%E4%BC%97%E5%8F%B7%E5%BE%85%E5%8F%91%E5%B8%83/%E8%8D%89%E7%A8%BF/%E6%89%93%E5%B7%A5%E4%BA%BA%E5%90%95%E5%B8%83.md",
    "lang": "en",
    "filepath": "å…¬ä¼—å·å¾…å‘å¸ƒ/è‰ç¨¿/æ‰“å·¥äººå•å¸ƒ.md",
    "content": ""
  },
  {
    "title": "å‘¨æ¸¸å·´å±±æ¥šæ°´",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E5%85%AC%E4%BC%97%E5%8F%B7%E5%BE%85%E5%8F%91%E5%B8%83/%E8%8D%89%E7%A8%BF/%E5%91%A8%E6%B8%B8%E5%B7%B4%E5%B1%B1%E6%A5%9A%E6%B0%B4.md",
    "lang": "en",
    "filepath": "å…¬ä¼—å·å¾…å‘å¸ƒ/è‰ç¨¿/å‘¨æ¸¸å·´å±±æ¥šæ°´.md",
    "content": ""
  },
  {
    "title": "é£ç‰›OSè™šæ‹Ÿæœºåˆä½“éªŒ",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E7%94%B5%E5%AD%90%E4%BA%A7%E5%93%81/%E9%A3%9E%E7%89%9BOS%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%88%9D%E4%BD%93%E9%AA%8C.md",
    "lang": "en",
    "filepath": "ç”µå­äº§å“/é£ç‰›OSè™šæ‹Ÿæœºåˆä½“éªŒ.md",
    "content": ""
  },
  {
    "title": "è¿½å¿†é’æ˜¥ - é»‘ç¾¤æ™–",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E7%94%B5%E5%AD%90%E4%BA%A7%E5%93%81/%E8%BF%BD%E5%BF%86%E9%9D%92%E6%98%A5%20-%20%E9%BB%91%E7%BE%A4%E6%99%96.md",
    "lang": "en",
    "filepath": "ç”µå­äº§å“/è¿½å¿†é’æ˜¥ - é»‘ç¾¤æ™–.md",
    "content": ""
  },
  {
    "title": "Cudy RT3000 åˆ·Openwrt",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E7%94%B5%E5%AD%90%E4%BA%A7%E5%93%81/Cudy%20RT3000%20%E5%88%B7Openwrt.md",
    "lang": "en",
    "filepath": "ç”µå­äº§å“/Cudy RT3000 åˆ·Openwrt.md",
    "content": ""
  },
  {
    "title": "è€å¼æ‰“å°æœºæ”¹ Airprint ä¹‹cups",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E7%94%B5%E5%AD%90%E4%BA%A7%E5%93%81/%E8%80%81%E5%BC%8F%E6%89%93%E5%8D%B0%E6%9C%BA%E6%94%B9%20Airprint%20%E4%B9%8Bcups.md",
    "lang": "en",
    "filepath": "ç”µå­äº§å“/è€å¼æ‰“å°æœºæ”¹ Airprint ä¹‹cups.md",
    "content": ""
  },
  {
    "title": "NAS ä½“éªŒæ–‡ç« ",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E7%94%B5%E5%AD%90%E4%BA%A7%E5%93%81/NAS%20%E4%BD%93%E9%AA%8C%E6%96%87%E7%AB%A0.md",
    "lang": "en",
    "filepath": "ç”µå­äº§å“/NAS ä½“éªŒæ–‡ç« .md",
    "content": ""
  },
  {
    "title": "ç”µå­äº§å“",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E7%94%B5%E5%AD%90%E4%BA%A7%E5%93%81/%E7%94%B5%E5%AD%90%E4%BA%A7%E5%93%81.md",
    "lang": "en",
    "filepath": "ç”µå­äº§å“/ç”µå­äº§å“.md",
    "content": ""
  },
  {
    "title": "Proxmox Virtual Environment (PVE) è™šæ‹Ÿæœºå®‰è£…ä¸å®Œå…¨æŒ‡å—",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E7%94%B5%E5%AD%90%E4%BA%A7%E5%93%81/Proxmox%20Virtual%20Environment%20%28PVE%29%20%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AE%89%E8%A3%85%E4%B8%8D%E5%AE%8C%E5%85%A8%E6%8C%87%E5%8D%97.md",
    "lang": "en",
    "filepath": "ç”µå­äº§å“/Proxmox Virtual Environment (PVE) è™šæ‹Ÿæœºå®‰è£…ä¸å®Œå…¨æŒ‡å—.md",
    "content": ""
  },
  {
    "title": "PXE è£…æœºï¼šiventoy èŠèƒœäºæ— ",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E7%94%B5%E5%AD%90%E4%BA%A7%E5%93%81/PXE%20%E8%A3%85%E6%9C%BA%EF%BC%9Aiventoy%20%E8%81%8A%E8%83%9C%E4%BA%8E%E6%97%A0.md",
    "lang": "en",
    "filepath": "ç”µå­äº§å“/PXE è£…æœºï¼šiventoy èŠèƒœäºæ— .md",
    "content": ""
  },
  {
    "title": "Typora å’ŒObsidian è‡ªåŠ¨ä½¿ç”¨ Github åšåœ¨çº¿å›¾åºŠ",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E8%BD%AF%E4%BB%B6%E6%95%88%E7%8E%87/Typora%20%E5%92%8CObsidian%20%E8%87%AA%E5%8A%A8%E4%BD%BF%E7%94%A8%20Github%20%E5%81%9A%E5%9C%A8%E7%BA%BF%E5%9B%BE%E5%BA%8A.md",
    "lang": "en",
    "filepath": "è½¯ä»¶æ•ˆç‡/Typora å’ŒObsidian è‡ªåŠ¨ä½¿ç”¨ Github åšåœ¨çº¿å›¾åºŠ.md",
    "content": ""
  },
  {
    "title": "æ‰‹æœºç½‘ç«™å­˜æ¡Œé¢",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E8%BD%AF%E4%BB%B6%E6%95%88%E7%8E%87/%E6%89%8B%E6%9C%BA%E7%BD%91%E7%AB%99%E5%AD%98%E6%A1%8C%E9%9D%A2.md",
    "lang": "en",
    "filepath": "è½¯ä»¶æ•ˆç‡/æ‰‹æœºç½‘ç«™å­˜æ¡Œé¢.md",
    "content": ""
  },
  {
    "title": "å¦‚ä½•ä½¿ç”¨Iphone æ‹æ‘„ JPGæ ¼å¼çš„ç…§ç‰‡",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E8%BD%AF%E4%BB%B6%E6%95%88%E7%8E%87/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8Iphone%20%E6%8B%8D%E6%91%84%20JPG%E6%A0%BC%E5%BC%8F%E7%9A%84%E7%85%A7%E7%89%87.md",
    "lang": "en",
    "filepath": "è½¯ä»¶æ•ˆç‡/å¦‚ä½•ä½¿ç”¨Iphone æ‹æ‘„ JPGæ ¼å¼çš„ç…§ç‰‡.md",
    "content": ""
  },
  {
    "title": "Easysearch ä½¿ç”¨ AWS S3 è¿›è¡Œå¿«ç…§è¿˜åŸåŠå¸¸è§æŠ¥é”™",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E6%9E%81%E9%99%90%E7%A7%91%E6%8A%80/Easysearch%20%E4%BD%BF%E7%94%A8%20AWS%20S3%20%E8%BF%9B%E8%A1%8C%E5%BF%AB%E7%85%A7%E8%BF%98%E5%8E%9F%E5%8F%8A%E5%B8%B8%E8%A7%81%E6%8A%A5%E9%94%99.md",
    "lang": "en",
    "filepath": "æé™ç§‘æŠ€/Easysearch ä½¿ç”¨ AWS S3 è¿›è¡Œå¿«ç…§è¿˜åŸåŠå¸¸è§æŠ¥é”™.md",
    "content": "## 3. åˆ›å»ºå¿«ç…§\n\nä¸€æ—¦ `my_s3_repository` æ³¨å†Œå®Œæˆï¼Œå°±å¯ä»¥åˆ›å»ºå¿«ç…§ï¼š\n\n```json\nPUT _snapshot/my_s3_repository/my_snapshot_001\n{\n\"indices\": \"my_index\",\n\"include_global_state\": false\n}\n```\n\næŸ¥çœ‹å½“å‰å­˜å‚¨çš„å¿«ç…§ï¼š\n\n```json\nGET _snapshot/my_s3_repository/_all\n```\n\n\n## 5. å¯èƒ½çš„é”™è¯¯ä¸è§£å†³æ–¹æ¡ˆ\n\n| **é”™è¯¯ä¿¡æ¯**                          | **å¯èƒ½åŸå› **                  | **è§£å†³æ–¹æ¡ˆ**                                                 |\n|-------------------------------------|-----------------------------|------------------------------------------------------------|\n| `repository_s3 plugin not installed` | æ²¡æœ‰å®‰è£… `repository-s3` æ’ä»¶ | è¿è¡Œ `bin/elasticsearch-plugin install repository-s3` å¹¶é‡å¯ |\n| `NoSuchBucket`                      | S3 å­˜å‚¨æ¡¶ä¸å­˜åœ¨               | ç¡®ä¿ S3 å­˜å‚¨æ¡¶åç§°æ­£ç¡®                                       |\n| `AccessDenied`                      | æƒé™ä¸è¶³                      | ç¡®ä¿ S3 å­˜å‚¨æ¡¶ç­–ç•¥æ­£ç¡®ï¼Œæ£€æŸ¥ IAM è§’è‰²                        |\n| `index_closed_exception`            | ç›®æ ‡ç´¢å¼•å·²å…³é—­                | å…ˆ `POST my_index/_open` å†æ¢å¤                              |\n| `index_already_exists_exception`    | ç›®æ ‡ç´¢å¼•å·²å­˜åœ¨                | å…ˆ `DELETE my_index` å†æ¢å¤                                  |\n\n\n### æŠ¥é”™ 2ï¼šç´¢å¼•å·²å­˜åœ¨ï¼Œæ— æ³•æ¢å¤\n\n```json\n{\n\"error\": {\n\"root_cause\": [\n{\n\"type\": \"snapshot_restore_exception\",\n\"reason\": \"[my_s3_repository:1/9gIDCgSySwKzQqEYvaGM_w] cannot restore index [my_index] because an open index with same name already exists in the cluster. Either close or delete the existing index or restore the index under a different name by providing a rename pattern and replacement name\"\n}\n],\n\"type\": \"snapshot_restore_exception\",\n\"reason\": \"[my_s3_repository:1/9gIDCgSySwKzQqEYvaGM_w] cannot restore index [my_index] because an open index with same name already exists in the cluster. Either close or delete the existing index or restore the index under a different name by providing a rename pattern and replacement name\"\n},\n\"status\": 500\n}\n```\n\n#### **è§£å†³æ–¹æ¡ˆ**ï¼š\n\n1. **åˆ é™¤ç°æœ‰ç´¢å¼•åæ¢å¤**ï¼š\n```bash\nDELETE /my_index\n```\n2. **å…³é—­ç´¢å¼•åæ¢å¤**ï¼š\n```bash\nPOST /my_index/_close\n```\n3. **æ¢å¤ä¸ºæ–°çš„ç´¢å¼•åç§°**ï¼š\n```json\nPOST _snapshot/my_s3_repository/1/_restore\n{\n\"indices\": \"my_index\",\n\"rename_pattern\": \"my_index\",\n\"rename_replacement\": \"restored_my_index\"\n}\n```\n\n\n| **API**                                                 | **ç”¨é€”**       |\n| ------------------------------------------------------- | -------------- |\n| `GET _snapshot/_all`                                    | æŸ¥çœ‹æ‰€æœ‰å­˜å‚¨åº“ |\n| `GET _snapshot/my_s3_repository`                        | æŸ¥çœ‹ç‰¹å®šå­˜å‚¨åº“ |\n| `PUT _snapshot/my_s3_repository`                        | åˆ›å»ºå­˜å‚¨åº“     |\n| `DELETE _snapshot/my_s3_repository`                     | åˆ é™¤å­˜å‚¨åº“     |\n| `PUT _snapshot/my_s3_repository/snapshot_001`           | åˆ›å»ºå¿«ç…§       |\n| `GET _snapshot/my_s3_repository/_all`                   | æŸ¥çœ‹æ‰€æœ‰å¿«ç…§   |\n| `GET _snapshot/my_s3_repository/snapshot_001`           | æŸ¥çœ‹å¿«ç…§è¯¦æƒ…   |\n| `DELETE _snapshot/my_s3_repository/snapshot_001`        | åˆ é™¤å¿«ç…§       |\n| `POST _snapshot/my_s3_repository/snapshot_001/_restore` | è¿˜åŸå¿«ç…§       |\n| `GET _snapshot/_status`                                 |     æŸ¥çœ‹å¿«ç…§çŠ¶æ€           |\n\n\n\n\n\nğŸš€ é€šè¿‡æœ¬æ–‡ï¼Œä½ å¯ä»¥é«˜æ•ˆåœ°ä½¿ç”¨ **AWS S3 è¿›è¡Œ Easysearch å¿«ç…§å¤‡ä»½å’Œæ¢å¤**ï¼Œå¹¶æ’æŸ¥å¯èƒ½çš„é”™è¯¯ï¼Œç¡®ä¿é›†ç¾¤æ•°æ®å®‰å…¨æ— å¿§ï¼"
  },
  {
    "title": "ä½¿ç”¨ INFINI Console é…ç½®é›†ç¾¤ç›‘æ§ Webhook é€šçŸ¥æŒ‡å—",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E6%9E%81%E9%99%90%E7%A7%91%E6%8A%80/%E4%BD%BF%E7%94%A8%20INFINI%20Console%20%E9%85%8D%E7%BD%AE%E9%9B%86%E7%BE%A4%E7%9B%91%E6%8E%A7%20Webhook%20%E9%80%9A%E7%9F%A5%E6%8C%87%E5%8D%97.md",
    "lang": "en",
    "filepath": "æé™ç§‘æŠ€/ä½¿ç”¨ INFINI Console é…ç½®é›†ç¾¤ç›‘æ§ Webhook é€šçŸ¥æŒ‡å—.md",
    "content": ""
  },
  {
    "title": "sss",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "æé™",
    "subcategory": "",
    "tags": [
      "æé™ç§‘æŠ€"
    ],
    "url": "obsidian://open?vault=markdown&file=%E6%9E%81%E9%99%90%E7%A7%91%E6%8A%80/%E6%89%93%E9%80%A0%E6%99%BA%E8%83%BD%E8%AF%AD%E6%96%99%E5%BA%93%EF%BC%9A%E9%80%9A%E8%BF%87Coco%20AI%20Server%20%E5%AE%9E%E7%8E%B0%20Notion%20%E7%AC%94%E8%AE%B0%20RAG%20%E6%A3%80%E7%B4%A2%E5%8A%9F%E8%83%BD.md",
    "lang": "en",
    "filepath": "æé™ç§‘æŠ€/æ‰“é€ æ™ºèƒ½è¯­æ–™åº“ï¼šé€šè¿‡Coco AI Server å®ç° Notion ç¬”è®° RAG æ£€ç´¢åŠŸèƒ½.md",
    "content": "æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•å°† Notion ä½œä¸ºè¯­æ–™åº“ï¼Œéƒ¨ç½² CoCo Server çš„ RAGï¼ˆRetrieval-Augmented Generationï¼‰åŠŸèƒ½ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ Easysearch ä½œä¸ºè¯­æ–™åº“å­˜å‚¨ Notion ç´ æï¼Œå¹¶é€šè¿‡ ollama è¿›è¡Œ LLM æ¨ç†ã€‚\n\n### 1. ç¯å¢ƒå‡†å¤‡\n\n#### 1.1 å¯åŠ¨ Easysearch\né¦–å…ˆï¼Œå¯åŠ¨ Easysearch ä½œä¸ºè¯­æ–™åº“ï¼Œç”¨äºå­˜å‚¨ Notion çš„ç´ æã€‚\n\n#### 1.2 å¯åŠ¨ ollama\næ¥ä¸‹æ¥ï¼Œå¯åŠ¨ ollamaï¼Œç”¨äºè¿›è¡Œ LLM æ¨ç†ã€‚\n\n#### 1.3 å¯åŠ¨ CoCo Server\nå¯åŠ¨ CoCo Serverï¼Œé»˜è®¤ç«¯å£ä¸º 9000ã€‚\n\n![CoCo Server å¯åŠ¨ç•Œé¢](https://raw.githubusercontent.com/Xu-Hardy/picgo-imh/master/image-20250217142649790.png)\n\n### 2. CoCo App è¿æ¥ä¸ç™»å½•\n\n#### 2.1 è¿æ¥ CoCo Server\né€šè¿‡ CoCo App è¿æ¥ Serverï¼Œå¹¶è¾“å…¥ç›¸å…³ä¿¡æ¯ã€‚\n\n![CoCo App è¿æ¥ç•Œé¢](https://raw.githubusercontent.com/Xu-Hardy/picgo-imh/master/image-20250217142816787.png)\n\n#### 2.2 ä½¿ç”¨ GitHub ç™»å½•\nç™»å½•æ—¶é€‰æ‹©ä½¿ç”¨ GitHub è´¦å·è¿›è¡Œè®¤è¯ã€‚\n\n![GitHub ç™»å½•ç•Œé¢](https://raw.githubusercontent.com/Xu-Hardy/picgo-imh/master/image-20250217142837884.png)\n\n#### 2.3 è·å– OAuth å›è°ƒä¿¡æ¯\nç™»å½•æˆåŠŸåï¼Œç³»ç»Ÿä¼šé‡å®šå‘å¹¶è¿”å› OAuth å›è°ƒä¿¡æ¯ã€‚æˆ‘ä»¬éœ€è¦æŠ“å–ä»¥ä¸‹ä¿¡æ¯ï¼Œåç»­å°†ä½¿ç”¨è¯¥ token æ¢å–è®¿é—® CoCo Server AI çš„ keyï¼š\n\n```\ncoco://oauth_callback?code=cupibub55o1cfqbveps0q804ai6aj14in3u91xjhvuk8s7ixirjsq2j9mmyyeut91nmgjwz0b494ngpk&request_id=eb94762b-f054-4710-9c6cf20889d3&provider=coco-cloud\n```\n\n![OAuth å›è°ƒä¿¡æ¯](https://raw.githubusercontent.com/Xu-Hardy/picgo-imh/master/image-20250217142925920.png)\n\n### 3. è®¤è¯æµç¨‹\n\n#### 3.1 è·å–ä¸´æ—¶ Token\né¦–å…ˆï¼Œè®¿é—®ä»¥ä¸‹ URL è·å–ä¸´æ—¶ Tokenï¼š\n\n```\nhttp://localhost:9000/sso/login/github?provider=coco-cloud&product=coco&request_id=dd9825e1-ebd3-4c84-9e3f-7ccb0421c508\n```\n\nè¯¥è¯·æ±‚å°†è¿”å›ä¸€ä¸ªä¸´æ—¶ Tokenï¼Œä¾‹å¦‚ `XXABC`ã€‚\n\n#### 3.2 æ¢å– Access Token\nä½¿ç”¨ä¸Šä¸€æ­¥è·å–çš„ä¸´æ—¶ Tokenï¼Œé€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¢å– Access Tokenï¼š\n\n```bash\ncurl -H'X-API-TOKEN: XXABC' \"http://localhost:9000/auth/request_access_token?request_id=dd9825e1-ebd3-4c84-9e3f-7ccb0421c508\"\n```\n\nè¿”å›çš„ Token å³ä¸ºæ‰€éœ€çš„ Access Tokenã€‚\n\n#### 3.3 ä½¿ç”¨ Postman è·å– Token\nåœ¨ Postman ä¸­æ‰§è¡Œä¸Šè¿°æ­¥éª¤ï¼Œè·å– `access_token` å’Œè¿‡æœŸæ—¶é—´ã€‚\n\n![Postman è·å– Token](https://raw.githubusercontent.com/Xu-Hardy/picgo-imh/master/image-20250217143134946.png)\n\n### 4. ä½¿ç”¨ Python è„šæœ¬è‡ªåŠ¨åŒ–è®¤è¯æµç¨‹\n\nä»¥ä¸‹ Python è„šæœ¬å¯ç”¨äºè‡ªåŠ¨åŒ–è§£æ OAuth å›è°ƒä¿¡æ¯å¹¶è·å– Access Tokenï¼š\n\n```python\nimport requests\n\ndef parse_oauth_callback(url):\nquery_params = {param.split('=')[0]: param.split('=')[1] for param in url.split('?')[1].split('&')}\ncode = query_params.get(\"code\")\nrequest_id = query_params.get(\"request_id\")\nreturn code, request_id\n\ndef request_access_token(code, base_url, request_id):\nurl = f\"{base_url}/auth/request_access_token?request_id={request_id}\"\nheaders = {\"X-API-TOKEN\": code}\nresponse = requests.get(url, headers=headers)\nreturn response.json()\n\n# ç¤ºä¾‹è¾“å…¥\noauth_callback_url = \"\"\"\ncoco://oauth_callback?code=cupibub55o1cfqbveps0q804ai6aj151wu4in3u91xjhvuk8s7ixirjsq2j9mmyyeut91nmgjwz0b494ngpk&request_id=eb94762b-f054-4710-9c6a-0cf2088729d3&provider=coco-cloud\n\"\"\"\nbase_url = \"http://localhost:9000\"\n\n# è§£æ code å’Œ request_id\ncode, request_id = parse_oauth_callback(oauth_callback_url)\n\n# å‘é€è¯·æ±‚\ntoken_response = request_access_token(code, base_url, request_id)\nprint(token_response)\n```\n\n### 5. æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯\n\nä½¿ç”¨è·å–çš„ `access_key` å¯ä»¥æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯ï¼š\n\n```python\nimport requests\n\nurl = \"http://localhost:9000/account/profile\"\n\npayload = {}\nheaders = {\n'X-API-TOKEN': 'cupichb55o1cfqbveq90zwomyxs791ul3esbxxt480c8dzgvdtjtvmcnsld4a5v0wvx9l9ofcf1'\n}\n\nresponse = requests.request(\"GET\", url, headers=headers, data=payload)\n\nprint(response.text)\n```\n\n### 6. æ³¨å†Œ Notion Connector\n\nä»¥ä¸‹ Python è„šæœ¬ç”¨äºæ³¨å†Œ Notion Connectorï¼š\n\n```python\nimport requests\nimport json\n\ndef update_connector(base_url, api_token, connector_name, data):\nurl = f\"{base_url}/connector/{connector_name}?replace=true\"\nheaders = {\n\"X-API-TOKEN\": api_token,\n\"Content-Type\": \"application/json\"\n}\nresponse = requests.put(url, headers=headers, data=json.dumps(data))\nreturn response.json()\n\nbase_url = \"http://localhost:9000\"\napi_token = \"<token>\"\n\nnotion_data = {\n\"name\": \"Notion Docs Connector\",\n\"description\": \"Fetch the docs metadata for notion.\",\n\"icon\": \"/assets/connector/notion/icon.png\",\n\"category\": \"website\",\n\"tags\": [\"docs\", \"notion\", \"web\"],\n\"url\": \"http://coco.rs/connectors/notion\",\n\"assets\": {\n\"icons\": {\n\"default\": \"/assets/connector/notion/icon.png\",\n\"web_page\": \"/assets/connector/notion/icon.png\",\n\"database\": \"/assets/connector/notion/database.png\",\n\"page\": \"/assets/connector/notion/page.png\"\n}\n}\n}\n\nresponse_notion = update_connector(base_url, api_token, \"notion\", notion_data)\nprint(response_notion)\n```\nåœ¨Easysearchä¸­çœ‹åˆ°åˆ›å»ºNotionçš„Connectorï¼š\n\n![image.png](https://raw.githubusercontent.com/Xu-Hardy/picgo-imh/master/20250217213310.png)\n\n### 7. é…ç½® Notion Connector\n\n#### 7.1 ä¿®æ”¹ Notion é…ç½®æ–‡ä»¶\nä¿®æ”¹ Notion é…ç½®æ–‡ä»¶ä»¥æ¿€æ´»æ£€ç´¢åŠŸèƒ½ï¼š\n\n![Notion é…ç½®æ–‡ä»¶ä¿®æ”¹](https://raw.githubusercontent.com/Xu-Hardy/picgo-imh/master/image-20250217210840104.png)\n\n#### 7.2 ç”³è¯· Notion API Key\nåœ¨ Notion å®˜ç½‘ç”³è¯· API Keyï¼š[Notion API Key](https://www.notion.so/profile/integrations)\n\n![Notion API Key ç”³è¯·](https://raw.githubusercontent.com/Xu-Hardy/picgo-imh/master/image-20250217212252851.png)\n\n#### 7.3 é…ç½®æƒé™ä¸å±•ç¤º API Key\né…ç½®å®Œæˆåï¼Œè®¾ç½®æƒé™å¹¶å±•ç¤º API Keyï¼š\n\n![Notion API Key å±•ç¤º](https://raw.githubusercontent.com/Xu-Hardy/picgo-imh/master/image-20250217212349650.png)\n\n#### 7.4 é…ç½® Notion Connector\nä½¿ç”¨ä»¥ä¸‹ Python è„šæœ¬é…ç½® Notion Connectorï¼š\n\n```python\nimport requests\nimport json\n\ndef create_datasource(base_url, api_token, data):\nurl = f\"{base_url}/datasource/\"\nheaders = {\n\"X-API-TOKEN\": api_token,\n\"Content-Type\": \"application/json\"\n}\nresponse = requests.post(url, headers=headers, data=json.dumps(data))\nreturn response.json()\n\n# ç¤ºä¾‹è¾“å…¥\nbase_url = \"http://localhost:9000\"\napi_token = \"<api-key>\"\n\ndatasource_data = {\n\"name\": \"My Notion\",\n\"type\": \"connector\",\n\"connector\": {\n\"id\": \"notion\",\n\"config\": {\n\"token\": \"<notion token>\"\n}\n}\n}\n\n# å‘é€ POST è¯·æ±‚\nresponse = create_datasource(base_url, api_token, datasource_data)\nprint(response)\n```\n\n#### 7.5 è®¾ç½® Notion é›†æˆ\nåœ¨ Notion ä¸­è®¾ç½®é›†æˆï¼Œä»¥ä¾¿ CoCo Server èƒ½å¤Ÿæœç´¢åˆ°ç›¸å…³å†…å®¹ï¼š\n\n![Notion é›†æˆè®¾ç½®](https://raw.githubusercontent.com/Xu-Hardy/picgo-imh/master/image-20250217212508943.png)\n\n\n### 8. éªŒè¯æ£€ç´¢åŠŸèƒ½\n\n![image.png](https://raw.githubusercontent.com/Xu-Hardy/picgo-imh/master/20250217213558.png)\n\n![image.png](https://raw.githubusercontent.com/Xu-Hardy/picgo-imh/master/20250217213454.png)\n\n![](https://raw.githubusercontent.com/Xu-Hardy/picgo-imh/master/20250217213454.png)\n\n#### 8.1 æŸ¥çœ‹ CoCo Server æ—¥å¿—\nåœ¨ CoCo Server æ—¥å¿—ä¸­ç¡®è®¤ Notion æ£€ç´¢åŠŸèƒ½å·²å¯ç”¨ï¼š\n\n![CoCo Server æ—¥å¿—](https://raw.githubusercontent.com/Xu-Hardy/picgo-imh/master/image-20250217210810825.png)\n\n#### 8.2 åœ¨æœç´¢æ æ£€ç´¢\næœ€åï¼Œæ‚¨å¯ä»¥åœ¨æœç´¢æ ä¸­æ£€ç´¢åˆ° Notion ç¬”è®°å†…å®¹ï¼š\n\n![Notion æ£€ç´¢ç»“æœ](https://raw.githubusercontent.com/Xu-Hardy/picgo-imh/master/image-20250217211620791.png)\n\nè‡³æ­¤ï¼Œæ‚¨å·²æˆåŠŸå°† Notion ä½œä¸ºè¯­æ–™åº“éƒ¨ç½²åˆ° CoCo Server çš„ RAG åŠŸèƒ½ä¸­ã€‚"
  },
  {
    "title": "å®ç° INFINI Console ä¸ GitHub çš„å•ç‚¹ç™»å½•é›†æˆï¼šä¸€ç«™å¼èº«ä»½éªŒè¯è§£å†³æ–¹æ¡ˆ",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E6%9E%81%E9%99%90%E7%A7%91%E6%8A%80/%E5%AE%9E%E7%8E%B0%20INFINI%20Console%20%E4%B8%8E%20GitHub%20%E7%9A%84%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95%E9%9B%86%E6%88%90%EF%BC%9A%E4%B8%80%E7%AB%99%E5%BC%8F%E8%BA%AB%E4%BB%BD%E9%AA%8C%E8%AF%81%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88.md",
    "lang": "en",
    "filepath": "æé™ç§‘æŠ€/å®ç° INFINI Console ä¸ GitHub çš„å•ç‚¹ç™»å½•é›†æˆï¼šä¸€ç«™å¼èº«ä»½éªŒè¯è§£å†³æ–¹æ¡ˆ.md",
    "content": "## ä¸‰ã€å•ç‚¹ç™»å½•æµç¨‹æ¼”ç¤º\n\n### 1. è®¿é—® INFINI Console\n- æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® `http://localhost:9000`ã€‚\n- ç‚¹å‡» **å•ç‚¹ç™»å½•** æŒ‰é’®ï¼Œè¿›å…¥ç™»å½•æµç¨‹ã€‚\n\n![å•ç‚¹ç™»å½•å…¥å£](https://raw.githubusercontent.com/Xu-Hardy/picgo-imh/master/image-20250222112609439.png)\n\n### 2. ä½¿ç”¨ GitHub ç™»å½•\n- ç‚¹å‡» **GitHub** å›¾æ ‡ï¼Œè·³è½¬è‡³ GitHub ç™»å½•é¡µé¢ã€‚\n\n![GitHub ç™»å½•ç•Œé¢](https://raw.githubusercontent.com/Xu-Hardy/picgo-imh/master/image-20250222112032548.png)\n\n### 3. æˆæƒåº”ç”¨è®¿é—®\n- åœ¨ GitHub æˆæƒé¡µé¢ï¼Œç¡®è®¤æˆæƒ INFINI Console è®¿é—®æ‚¨çš„ GitHub è´¦æˆ·ã€‚\n\n![GitHub æˆæƒé¡µé¢](https://raw.githubusercontent.com/Xu-Hardy/picgo-imh/master/image-20250222112039508.png)\n\n### 4. ç™»å½•æˆåŠŸ\n- æˆæƒæˆåŠŸåï¼Œç³»ç»Ÿå°†è‡ªåŠ¨è·³è½¬å› INFINI Consoleï¼Œå¹¶æ˜¾ç¤ºæ‚¨çš„ GitHub ç”¨æˆ·åã€‚\n\n![ç™»å½•æˆåŠŸé¡µé¢](https://raw.githubusercontent.com/Xu-Hardy/picgo-imh/master/image-20250222112009983.png)\n\n![æ˜¾ç¤º GitHub ç”¨æˆ·å](https://raw.githubusercontent.com/Xu-Hardy/picgo-imh/master/image-20250222112422743.png)"
  },
  {
    "title": "æé™ç§‘æŠ€",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E6%9E%81%E9%99%90%E7%A7%91%E6%8A%80/%E6%9E%81%E9%99%90%E7%A7%91%E6%8A%80.md",
    "lang": "en",
    "filepath": "æé™ç§‘æŠ€/æé™ç§‘æŠ€.md",
    "content": ""
  },
  {
    "title": "Coco AI APP åˆä½“éªŒï¼šå¼€å¯æ™ºèƒ½çŸ¥è¯†ç®¡ç†æ–°ç¯‡ç« ",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E6%9E%81%E9%99%90%E7%A7%91%E6%8A%80/Coco%20AI%20APP%20%E5%88%9D%E4%BD%93%E9%AA%8C%EF%BC%9A%E5%BC%80%E5%90%AF%E6%99%BA%E8%83%BD%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%E6%96%B0%E7%AF%87%E7%AB%A0.md",
    "lang": "en",
    "filepath": "æé™ç§‘æŠ€/Coco AI APP åˆä½“éªŒï¼šå¼€å¯æ™ºèƒ½çŸ¥è¯†ç®¡ç†æ–°ç¯‡ç« .md",
    "content": ""
  },
  {
    "title": "Macbook Proå¿«é€Ÿæ­å»ºEasysearchå­¦ä¹ ç¯å¢ƒ",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E6%9E%81%E9%99%90%E7%A7%91%E6%8A%80/Macbook%20Pro%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BAEasysearch%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.md",
    "lang": "en",
    "filepath": "æé™ç§‘æŠ€/Macbook Proå¿«é€Ÿæ­å»ºEasysearchå­¦ä¹ ç¯å¢ƒ.md",
    "content": ""
  },
  {
    "title": "æ¨èç»™ Easysearch æ–°ç”¨æˆ·çš„å‡ ä¸ª Elasticsearch å¯è§†åŒ–å·¥å…·",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E6%9E%81%E9%99%90%E7%A7%91%E6%8A%80/%E6%8E%A8%E8%8D%90%E7%BB%99%20Easysearch%20%E6%96%B0%E7%94%A8%E6%88%B7%E7%9A%84%E5%87%A0%E4%B8%AA%20Elasticsearch%20%E5%8F%AF%E8%A7%86%E5%8C%96%E5%B7%A5%E5%85%B7.md",
    "lang": "en",
    "filepath": "æé™ç§‘æŠ€/æ¨èç»™ Easysearch æ–°ç”¨æˆ·çš„å‡ ä¸ª Elasticsearch å¯è§†åŒ–å·¥å…·.md",
    "content": ""
  },
  {
    "title": "äº‘ç«¯ç§˜å¢ƒï¼šEC2çš„å¥‡å¹»ä¹‹æ—…",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=AI%20%E8%AE%B2%20AWS/%E4%BA%91%E7%AB%AF%E7%A7%98%E5%A2%83%EF%BC%9AEC2%E7%9A%84%E5%A5%87%E5%B9%BB%E4%B9%8B%E6%97%85.md",
    "lang": "en",
    "filepath": "AI è®² AWS/äº‘ç«¯ç§˜å¢ƒï¼šEC2çš„å¥‡å¹»ä¹‹æ—….md",
    "content": "## éª‘å£«çš„é“ ç”²ä¸æ­¦å™¨\nè‰¾ä¼¦çš„æˆ˜å£«è™½ç„¶å·²ç»è‹é†’ï¼Œä½†ä»–ä¾ç„¶æ˜¯ä¸€åâ€œè£¸è£…æˆ˜å£«â€ï¼Œç¼ºå°‘é˜²æŠ¤å’Œè£…å¤‡ã€‚å®ˆæŠ¤è€…å¸¦ç€è‰¾ä¼¦æ¥åˆ°**EC2å…µå·¥åŠ**ï¼ŒæŒ‡å‘ä¸‰æ ·å…³é”®çš„è£…å¤‡ï¼š\n\n### 1. EBSï¼ˆElastic Block Storeï¼‰- å¼¹æ€§å—å­˜å‚¨\nâ€œè¿™æ˜¯ä½ çš„æˆ˜å£«çš„èƒŒåŒ…ï¼Œå®ƒå¯ä»¥å­˜æ”¾æ‰€æœ‰çš„è£…å¤‡å’Œæˆ˜åˆ©å“ã€‚â€\n\n**EBSæ˜¯EC2çš„ç£ç›˜å­˜å‚¨ï¼Œæ”¯æŒå¤šç§æ¨¡å¼ï¼š**\n- **gp3ï¼ˆé€šç”¨SSDï¼‰**ï¼šé€‚ç”¨äºå¤§éƒ¨åˆ†åœºæ™¯ï¼Œæ€§ä»·æ¯”é«˜ã€‚\n- **io2ï¼ˆé«˜æ€§èƒ½SSDï¼‰**ï¼šé€‚åˆé‡‘èã€æ•°æ®åº“ç­‰é«˜IOéœ€æ±‚çš„åœºæ™¯ã€‚\n- **st1ï¼ˆç£ç›˜å­˜å‚¨ï¼‰**ï¼šé€‚åˆæ—¥å¿—å­˜å‚¨ã€å¤‡ä»½ç­‰å¤§å®¹é‡éœ€æ±‚ã€‚\n\nè‰¾ä¼¦é€‰æ‹©äº† **gp3 100GB** ä½œä¸ºä»–çš„æˆ˜å£«å­˜å‚¨ç©ºé—´ï¼Œå¹¶åœ¨ä¸Šé¢å®‰è£…äº†Nginxç½‘ç«™æœåŠ¡ã€‚\n\n### 2. Security Group - å®‰å…¨ç»„æŠ¤ç›¾\nâ€œæˆ˜å£«éœ€è¦æŠ¤ç›¾ï¼Œå¦åˆ™ä»–å¯èƒ½ä¼šè¢«æ•Œäººæ”»å‡»ã€‚â€\n\n**Security Group æ˜¯ EC2 çš„é˜²ç«å¢™ï¼Œæ§åˆ¶å¤–ç•Œè®¿é—®ã€‚**\nè‰¾ä¼¦è®¾å®šï¼š\n- å…è®¸ **80 å’Œ 443 ç«¯å£**ï¼ˆç½‘ç«™è®¿é—®ï¼‰\n- ä»…å…è®¸è‡ªå·±é€šè¿‡ **22 ç«¯å£**ï¼ˆSSHè¿œç¨‹ç®¡ç†ï¼‰\n\n### 3. Key Pair - å¯†é’¥å¯¹\nâ€œä½ éœ€è¦ä¸€æŠŠé­”æ³•é’¥åŒ™ï¼Œæ‰èƒ½å‘½ä»¤ä½ çš„æˆ˜å£«ã€‚â€\n\n**å¯†é’¥å¯¹ï¼ˆKey Pairï¼‰** æ˜¯ EC2 çš„ SSH è®¤è¯æ–¹å¼ï¼Œè‰¾ä¼¦ä¸‹è½½äº†ä¸€ä¸ª **.pem æ–‡ä»¶**ï¼Œå¦¥å–„ä¿ç®¡ï¼Œä»¥ä¾¿èƒ½å®‰å…¨åœ°è¿œç¨‹ç®¡ç†ä»–çš„å®ä¾‹ã€‚"
  },
  {
    "title": "ä½¿ç”¨Nginxè·å–å¹¶è¿”å›å®¢æˆ·ç«¯çš„å…¬ç½‘IPåœ°å€",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/%E4%BD%BF%E7%94%A8Nginx%E8%8E%B7%E5%8F%96%E5%B9%B6%E8%BF%94%E5%9B%9E%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%9A%84%E5%85%AC%E7%BD%91IP%E5%9C%B0%E5%9D%80.md",
    "lang": "en",
    "filepath": "å¼€æºè½¯ä»¶/ä½¿ç”¨Nginxè·å–å¹¶è¿”å›å®¢æˆ·ç«¯çš„å…¬ç½‘IPåœ°å€.md",
    "content": ""
  },
  {
    "title": "5. æ•°æ®éªŒè¯ä¸åºåˆ—åŒ–",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Flask%20RESTful%20API%20%E5%B0%8F%E5%86%8C%E5%AD%90/5.%20%E6%95%B0%E6%8D%AE%E9%AA%8C%E8%AF%81%E4%B8%8E%E5%BA%8F%E5%88%97%E5%8C%96.md",
    "lang": "en",
    "filepath": "å¼€æºè½¯ä»¶/Flask RESTful API å°å†Œå­/5. æ•°æ®éªŒè¯ä¸åºåˆ—åŒ–.md",
    "content": "### **5.2 åºåˆ—åŒ–ä¸ååºåˆ—åŒ–**\n\n#### **5.2.1 åºåˆ—åŒ–**\nåºåˆ—åŒ–æ˜¯å°† Python å¯¹è±¡è½¬æ¢ä¸º JSON æ ¼å¼çš„è¿‡ç¨‹ã€‚\n\n- **ç¤ºä¾‹ï¼šåºåˆ—åŒ–ç”¨æˆ·å¯¹è±¡**\n```python\nuser = {'id': 1, 'name': 'Alice', 'age': 25}\nschema = UserSchema()\nresult = schema.dump(user)\nprint(result)  # è¾“å‡ºï¼š{'id': 1, 'name': 'Alice', 'age': 25}\n```\n\n- **åºåˆ—åŒ–å¤šä¸ªå¯¹è±¡**ï¼š\n```python\nusers = [{'id': 1, 'name': 'Alice', 'age': 25}, {'id': 2, 'name': 'Bob', 'age': 30}]\nschema = UserSchema(many=True)\nresult = schema.dump(users)\nprint(result)  # è¾“å‡ºï¼š[{'id': 1, 'name': 'Alice', 'age': 25}, {'id': 2, 'name': 'Bob', 'age': 30}]\n```\n\n#### **5.2.2 ååºåˆ—åŒ–**\nååºåˆ—åŒ–æ˜¯å°† JSON æ•°æ®è½¬æ¢ä¸º Python å¯¹è±¡çš„è¿‡ç¨‹ã€‚\n\n- **ç¤ºä¾‹ï¼šååºåˆ—åŒ–ç”¨æˆ·æ•°æ®**\n```python\ndata = {'name': 'Alice', 'age': 25}\nschema = UserSchema()\nresult = schema.load(data)\nprint(result)  # è¾“å‡ºï¼š{'name': 'Alice', 'age': 25}\n```\n\n- **å¤„ç†åµŒå¥—æ•°æ®**ï¼š\n```python\nclass AddressSchema(Schema):\ncity = fields.Str(required=True)\nstreet = fields.Str(required=True)\n\nclass UserSchema(Schema):\nname = fields.Str(required=True)\nage = fields.Int(required=True)\naddress = fields.Nested(AddressSchema)\n\ndata = {'name': 'Alice', 'age': 25, 'address': {'city': 'Shanghai', 'street': 'Main St'}}\nschema = UserSchema()\nresult = schema.load(data)\nprint(result)  # è¾“å‡ºï¼š{'name': 'Alice', 'age': 25, 'address': {'city': 'Shanghai', 'street': 'Main St'}}\n```\n\n\n## **å®Œæ•´ç¤ºä¾‹**\n\nä»¥ä¸‹æ˜¯ä¸€ä¸ªç»“åˆæ•°æ®éªŒè¯å’Œåºåˆ—åŒ–çš„å®Œæ•´ç¤ºä¾‹ï¼š\n```python\nfrom flask import Flask, request, jsonify\nfrom marshmallow import Schema, fields, ValidationError\n\napp = Flask(__name__)\n\nclass UserSchema(Schema):\nid = fields.Int(dump_only=True)\nname = fields.Str(required=True)\nage = fields.Int(required=True)\n\n@validates('age')\ndef validate_age(self, value):\nif value < 0:\nraise ValidationError('Age must be a positive number.')\n\nuser_schema = UserSchema()\n\n@app.route('/users', methods=['POST'])\ndef create_user():\ndata = request.get_json()\ntry:\nresult = user_schema.load(data)\nreturn jsonify(result), 201\nexcept ValidationError as err:\nreturn jsonify(err.messages), 400\n\nif __name__ == '__main__':\napp.run(debug=True)\n```"
  },
  {
    "title": "2. ç¯å¢ƒå‡†å¤‡",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Flask%20RESTful%20API%20%E5%B0%8F%E5%86%8C%E5%AD%90/2.%20%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87.md",
    "lang": "en",
    "filepath": "å¼€æºè½¯ä»¶/Flask RESTful API å°å†Œå­/2. ç¯å¢ƒå‡†å¤‡.md",
    "content": "### **2.2 åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**\n\nè™šæ‹Ÿç¯å¢ƒï¼ˆVirtual Environmentï¼‰æ˜¯ Python é¡¹ç›®çš„ç‹¬ç«‹è¿è¡Œç¯å¢ƒï¼Œå¯ä»¥é¿å…ä¸åŒé¡¹ç›®ä¹‹é—´çš„ä¾èµ–å†²çªã€‚ä»¥ä¸‹æ˜¯åˆ›å»ºè™šæ‹Ÿç¯å¢ƒçš„æ­¥éª¤ï¼š\n\n#### **2.2.1 åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**\n1. æ‰“å¼€ç»ˆç«¯ï¼Œè¿›å…¥ä½ çš„é¡¹ç›®ç›®å½•ï¼š\n```bash\ncd path/to/your/project\n```\n\n2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼š\n- åœ¨ macOS/Linux ä¸Šï¼š\n```bash\npython3 -m venv venv\n```\n- åœ¨ Windows ä¸Šï¼š\n```bash\npython -m venv venv\n```\nè¿™ä¼šåœ¨é¡¹ç›®ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º `venv` çš„æ–‡ä»¶å¤¹ï¼Œé‡Œé¢åŒ…å«è™šæ‹Ÿç¯å¢ƒçš„æ‰€æœ‰æ–‡ä»¶ã€‚\n\n#### **2.2.2 æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ**\n1. åœ¨ macOS/Linux ä¸Šï¼š\n```bash\nsource venv/bin/activate\n```\n2. åœ¨ Windows ä¸Šï¼š\n```bash\nvenv\\Scripts\\activate\n```\næ¿€æ´»åï¼Œç»ˆç«¯æç¤ºç¬¦ä¼šæ˜¾ç¤ºè™šæ‹Ÿç¯å¢ƒåç§°ï¼ˆå¦‚ `(venv)`ï¼‰ã€‚\n\n#### **2.2.3 é€€å‡ºè™šæ‹Ÿç¯å¢ƒ**\nå¦‚æœéœ€è¦é€€å‡ºè™šæ‹Ÿç¯å¢ƒï¼Œå¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š\n```bash\ndeactivate\n```\n\n\n## **æ€»ç»“**\né€šè¿‡æœ¬ç« çš„å­¦ä¹ ï¼Œä½ å·²ç»å®Œæˆäº†ä»¥ä¸‹å‡†å¤‡å·¥ä½œï¼š\n1. å®‰è£…äº† Python å’Œ Flaskã€‚\n2. åˆ›å»ºäº†è™šæ‹Ÿç¯å¢ƒï¼Œç¡®ä¿é¡¹ç›®ä¾èµ–çš„ç‹¬ç«‹æ€§ã€‚\n3. å®‰è£…äº†å¸¸ç”¨çš„ Flask æ‰©å±•åº“ï¼Œä¸ºåç»­å¼€å‘æ‰“ä¸‹åŸºç¡€ã€‚\n\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è¿›å…¥ **3. Flask åŸºç¡€**ï¼Œå­¦ä¹ å¦‚ä½•æ„å»ºç¬¬ä¸€ä¸ª Flask åº”ç”¨ã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ï¼Œæˆ–è€…éœ€è¦æ›´è¯¦ç»†çš„è§£é‡Šå’Œä»£ç ç¤ºä¾‹ï¼Œéšæ—¶å‘Šè¯‰æˆ‘ï¼ ğŸ˜„\n\nåœ¨å¼€å§‹æ„å»º Flask RESTful API ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å‡†å¤‡å¥½å¼€å‘ç¯å¢ƒã€‚æœ¬ç« å°†è¯¦ç»†ä»‹ç»å¦‚ä½•å®‰è£… Python å’Œ Flaskã€åˆ›å»ºè™šæ‹Ÿç¯å¢ƒä»¥åŠå®‰è£…å¸¸ç”¨çš„æ‰©å±•åº“ã€‚\n\n\n### **2.2 åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**\n\nè™šæ‹Ÿç¯å¢ƒï¼ˆVirtual Environmentï¼‰æ˜¯ Python é¡¹ç›®çš„ç‹¬ç«‹è¿è¡Œç¯å¢ƒï¼Œå¯ä»¥é¿å…ä¸åŒé¡¹ç›®ä¹‹é—´çš„ä¾èµ–å†²çªã€‚ä»¥ä¸‹æ˜¯åˆ›å»ºè™šæ‹Ÿç¯å¢ƒçš„æ­¥éª¤ï¼š\n\n#### **2.2.1 åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**\n1. æ‰“å¼€ç»ˆç«¯ï¼Œè¿›å…¥ä½ çš„é¡¹ç›®ç›®å½•ï¼š\n```bash\ncd path/to/your/project\n```\n\n2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼š\n- åœ¨ macOS/Linux ä¸Šï¼š\n```bash\npython3 -m venv venv\n```\n- åœ¨ Windows ä¸Šï¼š\n```bash\npython -m venv venv\n```\nè¿™ä¼šåœ¨é¡¹ç›®ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º `venv` çš„æ–‡ä»¶å¤¹ï¼Œé‡Œé¢åŒ…å«è™šæ‹Ÿç¯å¢ƒçš„æ‰€æœ‰æ–‡ä»¶ã€‚\n\n#### **2.2.2 æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ**\n1. åœ¨ macOS/Linux ä¸Šï¼š\n```bash\nsource venv/bin/activate\n```\n2. åœ¨ Windows ä¸Šï¼š\n```bash\nvenv\\Scripts\\activate\n```\næ¿€æ´»åï¼Œç»ˆç«¯æç¤ºç¬¦ä¼šæ˜¾ç¤ºè™šæ‹Ÿç¯å¢ƒåç§°ï¼ˆå¦‚ `(venv)`ï¼‰ã€‚\n\n#### **2.2.3 é€€å‡ºè™šæ‹Ÿç¯å¢ƒ**\nå¦‚æœéœ€è¦é€€å‡ºè™šæ‹Ÿç¯å¢ƒï¼Œå¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š\n```bash\ndeactivate\n```\n\n\n## **æ€»ç»“**\né€šè¿‡æœ¬ç« çš„å­¦ä¹ ï¼Œä½ å·²ç»å®Œæˆäº†ä»¥ä¸‹å‡†å¤‡å·¥ä½œï¼š\n1. å®‰è£…äº† Python å’Œ Flaskã€‚\n2. åˆ›å»ºäº†è™šæ‹Ÿç¯å¢ƒï¼Œç¡®ä¿é¡¹ç›®ä¾èµ–çš„ç‹¬ç«‹æ€§ã€‚\n3. å®‰è£…äº†å¸¸ç”¨çš„ Flask æ‰©å±•åº“ï¼Œä¸ºåç»­å¼€å‘æ‰“ä¸‹åŸºç¡€ã€‚\n\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è¿›å…¥ **3. Flask åŸºç¡€**ï¼Œå­¦ä¹ å¦‚ä½•æ„å»ºç¬¬ä¸€ä¸ª Flask åº”ç”¨ã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ï¼Œæˆ–è€…éœ€è¦æ›´è¯¦ç»†çš„è§£é‡Šå’Œä»£ç ç¤ºä¾‹ï¼Œéšæ—¶å‘Šè¯‰æˆ‘ï¼ ğŸ˜„"
  },
  {
    "title": "12. å®æˆ˜é¡¹ç›®",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Flask%20RESTful%20API%20%E5%B0%8F%E5%86%8C%E5%AD%90/12.%20%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE.md",
    "lang": "en",
    "filepath": "å¼€æºè½¯ä»¶/Flask RESTful API å°å†Œå­/12. å®æˆ˜é¡¹ç›®.md",
    "content": "### **12.2 è®¾è®¡æ•°æ®åº“æ¨¡å‹**\n\n#### **12.2.1 ç”¨æˆ·è¡¨ï¼ˆUserï¼‰**\n| å­—æ®µå     | ç±»å‹         | æè¿°           |\n|------------|--------------|----------------|\n| id         | Integer      | ä¸»é”®           |\n| username   | String(50)   | ç”¨æˆ·åï¼Œå”¯ä¸€   |\n| password   | String(100)  | å¯†ç ï¼ˆåŠ å¯†ï¼‰   |\n| email      | String(100)  | é‚®ç®±ï¼Œå”¯ä¸€     |\n\n#### **12.2.2 äº§å“è¡¨ï¼ˆProductï¼‰**\n| å­—æ®µå     | ç±»å‹         | æè¿°           |\n|------------|--------------|----------------|\n| id         | Integer      | ä¸»é”®           |\n| name       | String(100)  | äº§å“åç§°       |\n| price      | Float        | äº§å“ä»·æ ¼       |\n| user_id    | Integer      | å¤–é”®ï¼Œå…³è”ç”¨æˆ· |\n\n#### **12.2.3 æ•°æ®åº“æ¨¡å‹ä»£ç **\n```python\nfrom flask_sqlalchemy import SQLAlchemy\n\ndb = SQLAlchemy()\n\nclass User(db.Model):\nid = db.Column(db.Integer, primary_key=True)\nusername = db.Column(db.String(50), unique=True, nullable=False)\npassword = db.Column(db.String(100), nullable=False)\nemail = db.Column(db.String(100), unique=True, nullable=False)\nproducts = db.relationship('Product', backref='user', lazy=True)\n\nclass Product(db.Model):\nid = db.Column(db.Integer, primary_key=True)\nname = db.Column(db.String(100), nullable=False)\nprice = db.Column(db.Float, nullable=False)\nuser_id = db.Column(db.Integer, db.ForeignKey('user.id'), nullable=False)\n```\n\n\n### **12.4 ç¼–å†™æµ‹è¯•ç”¨ä¾‹**\n\n#### **12.4.1 å®‰è£…æµ‹è¯•å·¥å…·**\n```bash\npip install pytest Flask-Testing\n```\n\n#### **12.4.2 ç¼–å†™å•å…ƒæµ‹è¯•**\n- **æµ‹è¯•ç”¨æˆ·æ³¨å†Œ**ï¼š\n```python\ndef test_register(self):\nresponse = self.app.post('/register', json={\n'username': 'Alice',\n'password': 'password',\n'email': 'alice@example.com'\n})\nself.assertEqual(response.status_code, 201)\nself.assertIn('User registered successfully', response.get_data(as_text=True))\n```\n\n- **æµ‹è¯•ç”¨æˆ·ç™»å½•**ï¼š\n```python\ndef test_login(self):\nself.app.post('/register', json={\n'username': 'Alice',\n'password': 'password',\n'email': 'alice@example.com'\n})\nresponse = self.app.post('/login', json={\n'username': 'Alice',\n'password': 'password'\n})\nself.assertEqual(response.status_code, 200)\nself.assertIn('access_token', response.get_data(as_text=True))\n```\n\n\n## **æ€»ç»“**\né€šè¿‡æœ¬ç« çš„å­¦ä¹ ï¼Œä½ å·²ç»å®Œæˆäº†ä¸€ä¸ªå®Œæ•´çš„ Flask é¡¹ç›®ï¼ŒåŒ…æ‹¬éœ€æ±‚åˆ†æã€æ•°æ®åº“è®¾è®¡ã€æ ¸å¿ƒåŠŸèƒ½å®ç°ã€æµ‹è¯•ç”¨ä¾‹ç¼–å†™ä»¥åŠéƒ¨ç½²ä¸Šçº¿ã€‚å¸Œæœ›è¿™ä¸ªå®æˆ˜é¡¹ç›®èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£ Flask å’Œ RESTful API çš„å¼€å‘æµç¨‹ã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ï¼Œæˆ–è€…éœ€è¦æ›´è¯¦ç»†çš„è§£é‡Šå’Œä»£ç ç¤ºä¾‹ï¼Œéšæ—¶å‘Šè¯‰æˆ‘ï¼ ğŸ˜„"
  },
  {
    "title": "4. æ„å»ºç¬¬ä¸€ä¸ª RESTful API",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Flask%20RESTful%20API%20%E5%B0%8F%E5%86%8C%E5%AD%90/4.%20%E6%9E%84%E5%BB%BA%E7%AC%AC%E4%B8%80%E4%B8%AA%20RESTful%20API.md",
    "lang": "en",
    "filepath": "å¼€æºè½¯ä»¶/Flask RESTful API å°å†Œå­/4. æ„å»ºç¬¬ä¸€ä¸ª RESTful API.md",
    "content": "### **4.2 å®šä¹‰èµ„æºç±»**\n\n#### **4.2.1 ä»€ä¹ˆæ˜¯èµ„æºç±»ï¼Ÿ**\nèµ„æºç±»æ˜¯ Flask-RESTful çš„æ ¸å¿ƒæ¦‚å¿µã€‚æ¯ä¸ªèµ„æºç±»å¯¹åº”ä¸€ä¸ª API ç«¯ç‚¹ï¼Œå¹¶å®šä¹‰äº†å¯¹è¯¥èµ„æºçš„æ“ä½œï¼ˆå¦‚ GETã€POSTã€PUTã€DELETEï¼‰ã€‚\n\n#### **4.2.2 å®šä¹‰èµ„æºç±»çš„æ­¥éª¤**\n1. ç»§æ‰¿ `Resource` ç±»ã€‚\n2. å®ç° HTTP æ–¹æ³•ï¼ˆå¦‚ `get`ã€`post`ã€`put`ã€`delete`ï¼‰ã€‚\n3. å°†èµ„æºç±»æ·»åŠ åˆ° `Api` å®ä¾‹ä¸­ã€‚\n\n#### **4.2.3 ç¤ºä¾‹ï¼šç”¨æˆ·èµ„æºç±»**\nä»¥ä¸‹æ˜¯ä¸€ä¸ªç”¨æˆ·èµ„æºç±»çš„ç¤ºä¾‹ï¼š\n```python\nfrom flask_restful import Resource\n\nclass UserResource(Resource):\ndef get(self, user_id=None):\nif user_id:\nreturn {'user_id': user_id, 'name': 'Alice'}\nelse:\nreturn {'users': [{'id': 1, 'name': 'Alice'}, {'id': 2, 'name': 'Bob'}]}\n\ndef post(self):\nreturn {'message': 'User created'}, 201\n\ndef put(self, user_id):\nreturn {'message': f'User {user_id} updated'}\n\ndef delete(self, user_id):\nreturn {'message': f'User {user_id} deleted'}\n```\n\n#### **4.2.4 æ·»åŠ èµ„æºç±»åˆ° Api**\nå°†èµ„æºç±»æ·»åŠ åˆ° `Api` å®ä¾‹ä¸­ï¼Œå¹¶æŒ‡å®š URL è·¯å¾„ï¼š\n```python\napi.add_resource(UserResource, '/users', '/users/<int:user_id>')\n```\n\n- `/users`ï¼šè·å–æ‰€æœ‰ç”¨æˆ·æˆ–åˆ›å»ºæ–°ç”¨æˆ·ã€‚\n- `/users/<int:user_id>`ï¼šè·å–ã€æ›´æ–°æˆ–åˆ é™¤æŒ‡å®šç”¨æˆ·ã€‚\n\n\n### **4.4 è¿”å› JSON æ•°æ®**\n\n#### **4.4.1 è‡ªåŠ¨è½¬æ¢ä¸º JSON**\nFlask-RESTful ä¼šè‡ªåŠ¨å°† Python å­—å…¸è½¬æ¢ä¸º JSON æ ¼å¼ã€‚ä¾‹å¦‚ï¼š\n```python\ndef get(self):\nreturn {'message': 'Hello, World!'}\n```\nè¿”å›çš„ JSON æ•°æ®ï¼š\n```json\n{\n\"message\": \"Hello, World!\"\n}\n```\n\n#### **4.4.2 è‡ªå®šä¹‰çŠ¶æ€ç **\nå¯ä»¥é€šè¿‡è¿”å›å…ƒç»„æ¥æŒ‡å®šçŠ¶æ€ç ï¼š\n```python\ndef post(self):\nreturn {'message': 'User created'}, 201\n```\nè¿”å›çš„ JSON æ•°æ®å’ŒçŠ¶æ€ç ï¼š\n```json\n{\n\"message\": \"User created\"\n}\n```\nçŠ¶æ€ç ï¼š`201 Created`\n\n#### **4.4.3 è¿”å›åˆ—è¡¨**\nå¯ä»¥ç›´æ¥è¿”å›åˆ—è¡¨ï¼ŒFlask-RESTful ä¼šå°†å…¶è½¬æ¢ä¸º JSON æ•°ç»„ï¼š\n```python\ndef get(self):\nreturn [{'id': 1, 'name': 'Alice'}, {'id': 2, 'name': 'Bob'}]\n```\nè¿”å›çš„ JSON æ•°æ®ï¼š\n```json\n[\n{\n\"id\": 1,\n\"name\": \"Alice\"\n},\n{\n\"id\": 2,\n\"name\": \"Bob\"\n}\n]\n```\n\n\n## **æ€»ç»“**\né€šè¿‡æœ¬ç« çš„å­¦ä¹ ï¼Œä½ å·²ç»æŒæ¡äº†ä»¥ä¸‹å†…å®¹ï¼š\n1. å¦‚ä½•ä½¿ç”¨ Flask-RESTful æ„å»º RESTful APIã€‚\n2. å¦‚ä½•å®šä¹‰èµ„æºç±»å¹¶å¤„ç† GETã€POSTã€PUTã€DELETE è¯·æ±‚ã€‚\n3. å¦‚ä½•è¿”å› JSON æ•°æ®ã€‚\n\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è¿›å…¥ **5. æ•°æ®éªŒè¯ä¸åºåˆ—åŒ–**ï¼Œå­¦ä¹ å¦‚ä½•ä½¿ç”¨ Marshmallow è¿›è¡Œæ•°æ®éªŒè¯å’Œåºåˆ—åŒ–ã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ï¼Œæˆ–è€…éœ€è¦æ›´è¯¦ç»†çš„è§£é‡Šå’Œä»£ç ç¤ºä¾‹ï¼Œéšæ—¶å‘Šè¯‰æˆ‘ï¼ ğŸ˜„"
  },
  {
    "title": "7. ç”¨æˆ·è®¤è¯ä¸æˆæƒ",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Flask%20RESTful%20API%20%E5%B0%8F%E5%86%8C%E5%AD%90/7.%20%E7%94%A8%E6%88%B7%E8%AE%A4%E8%AF%81%E4%B8%8E%E6%8E%88%E6%9D%83.md",
    "lang": "en",
    "filepath": "å¼€æºè½¯ä»¶/Flask RESTful API å°å†Œå­/7. ç”¨æˆ·è®¤è¯ä¸æˆæƒ.md",
    "content": "### **7.2 ç”¨æˆ·æ³¨å†Œä¸ç™»å½•**\n\n#### **7.2.1 ç”¨æˆ·æ³¨å†Œ**\nç”¨æˆ·æ³¨å†Œæ—¶ï¼Œå°†ç”¨æˆ·ä¿¡æ¯ä¿å­˜åˆ°æ•°æ®åº“ã€‚\n\n- **ç¤ºä¾‹ï¼šç”¨æˆ·æ³¨å†Œè·¯ç”±**\n```python\nfrom flask import request, jsonify\nfrom werkzeug.security import generate_password_hash\n\n@app.route('/register', methods=['POST'])\ndef register():\ndata = request.get_json()\nusername = data.get('username')\npassword = data.get('password')\nemail = data.get('email')\n\nif User.query.filter_by(username=username).first():\nreturn jsonify({'message': 'Username already exists'}), 400\n\nnew_user = User(\nusername=username,\npassword=generate_password_hash(password),  # åŠ å¯†å¯†ç \nemail=email\n)\ndb.session.add(new_user)\ndb.session.commit()\n\nreturn jsonify({'message': 'User registered successfully'}), 201\n```\n\n#### **7.2.2 ç”¨æˆ·ç™»å½•**\nç”¨æˆ·ç™»å½•æ—¶ï¼ŒéªŒè¯ç”¨æˆ·åå’Œå¯†ç ï¼Œå¹¶ç”Ÿæˆ JWTã€‚\n\n- **ç¤ºä¾‹ï¼šç”¨æˆ·ç™»å½•è·¯ç”±**\n```python\nfrom flask_jwt_extended import create_access_token\nfrom werkzeug.security import check_password_hash\n\n@app.route('/login', methods=['POST'])\ndef login():\ndata = request.get_json()\nusername = data.get('username')\npassword = data.get('password')\n\nuser = User.query.filter_by(username=username).first()\nif user and check_password_hash(user.password, password):\naccess_token = create_access_token(identity=username)\nreturn jsonify(access_token=access_token), 200\nelse:\nreturn jsonify({'message': 'Invalid credentials'}), 401\n```\n\n- **create_access_token**ï¼šç”Ÿæˆ JWTï¼Œ`identity` å‚æ•°ç”¨äºæ ‡è¯†ç”¨æˆ·ã€‚\n\n\n### **7.4 Token åˆ·æ–°ä¸é»‘åå•**\n\n#### **7.4.1 Token åˆ·æ–°**\nJWT çš„æœ‰æ•ˆæœŸé€šå¸¸è¾ƒçŸ­ï¼Œä¸ºäº†æå‡ç”¨æˆ·ä½“éªŒï¼Œå¯ä»¥é€šè¿‡åˆ·æ–° Token æ¥å»¶é•¿ä¼šè¯ã€‚\n\n- **ç¤ºä¾‹ï¼šåˆ·æ–° Token**\n```python\nfrom flask_jwt_extended import create_refresh_token, jwt_refresh_token_required, get_jwt_identity\n\n@app.route('/refresh', methods=['POST'])\n@jwt_refresh_token_required\ndef refresh():\ncurrent_user = get_jwt_identity()\nnew_access_token = create_access_token(identity=current_user)\nreturn jsonify(access_token=new_access_token), 200\n```\n\n- **jwt_refresh_token_required**ï¼šç¡®ä¿è¯·æ±‚æºå¸¦æœ‰æ•ˆçš„åˆ·æ–° Tokenã€‚\n- **create_access_token**ï¼šç”Ÿæˆæ–°çš„è®¿é—® Tokenã€‚\n\n#### **7.4.2 Token é»‘åå•**\nä¸ºäº†é˜²æ­¢ Token è¢«æ»¥ç”¨ï¼Œå¯ä»¥å°†å¤±æ•ˆçš„ Token åŠ å…¥é»‘åå•ã€‚\n\n- **ç¤ºä¾‹ï¼šå®ç°é»‘åå•**\n```python\nfrom flask_jwt_extended import get_raw_jwt\n\nblacklist = set()\n\n@jwt.token_in_blacklist_loader\ndef check_if_token_in_blacklist(decrypted_token):\njti = decrypted_token['jti']\nreturn jti in blacklist\n\n@app.route('/logout', methods=['DELETE'])\n@jwt_required()\ndef logout():\njti = get_raw_jwt()['jti']\nblacklist.add(jti)\nreturn jsonify({'message': 'Successfully logged out'}), 200\n```\n\n- **jwt.token_in_blacklist_loader**ï¼šæ£€æŸ¥ Token æ˜¯å¦åœ¨é»‘åå•ä¸­ã€‚\n- **get_raw_jwt**ï¼šè·å–å½“å‰ Token çš„åŸå§‹æ•°æ®ã€‚\n\n\n## **æ€»ç»“**\né€šè¿‡æœ¬ç« çš„å­¦ä¹ ï¼Œä½ å·²ç»æŒæ¡äº†ä»¥ä¸‹å†…å®¹ï¼š\n1. å¦‚ä½•ä½¿ç”¨ Flask-JWT-Extended å®ç° JWT è®¤è¯ã€‚\n2. å¦‚ä½•å®ç°ç”¨æˆ·æ³¨å†Œå’Œç™»å½•åŠŸèƒ½ã€‚\n3. å¦‚ä½•ä¿æŠ¤è·¯ç”±å¹¶éªŒè¯ç”¨æˆ·èº«ä»½ã€‚\n4. å¦‚ä½•å®ç° Token åˆ·æ–°å’Œé»‘åå•åŠŸèƒ½ã€‚\n\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è¿›å…¥ **8. é”™è¯¯å¤„ç†ä¸æ—¥å¿—**ï¼Œå­¦ä¹ å¦‚ä½•å¤„ç†é”™è¯¯å’Œè®°å½•æ—¥å¿—ã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ï¼Œæˆ–è€…éœ€è¦æ›´è¯¦ç»†çš„è§£é‡Šå’Œä»£ç ç¤ºä¾‹ï¼Œéšæ—¶å‘Šè¯‰æˆ‘ï¼ ğŸ˜„"
  },
  {
    "title": "13. é™„å½•",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Flask%20RESTful%20API%20%E5%B0%8F%E5%86%8C%E5%AD%90/13.%20%E9%99%84%E5%BD%95.md",
    "lang": "en",
    "filepath": "å¼€æºè½¯ä»¶/Flask RESTful API å°å†Œå­/13. é™„å½•.md",
    "content": "### **13.2 å‚è€ƒæ–‡æ¡£ä¸å­¦ä¹ èµ„æº**\n\nä»¥ä¸‹æ˜¯ä¸€äº›æ¨èçš„å‚è€ƒæ–‡æ¡£å’Œå­¦ä¹ èµ„æºï¼Œå¸®åŠ©ä½ æ·±å…¥å­¦ä¹  Flask å’Œç›¸å…³æŠ€æœ¯ï¼š\n\n#### **å®˜æ–¹æ–‡æ¡£**\n1. **Flask å®˜æ–¹æ–‡æ¡£**ï¼š\n- [Flask Documentation](https://flask.palletsprojects.com/)\n- åŒ…å« Flask çš„æ ¸å¿ƒæ¦‚å¿µã€API å‚è€ƒå’Œç¤ºä¾‹ä»£ç ã€‚\n\n2. **Flask-SQLAlchemy å®˜æ–¹æ–‡æ¡£**ï¼š\n- [Flask-SQLAlchemy Documentation](https://flask-sqlalchemy.palletsprojects.com/)\n- æä¾›æ•°æ®åº“æ“ä½œå’Œæ¨¡å‹å®šä¹‰çš„è¯¦ç»†è¯´æ˜ã€‚\n\n3. **Flask-JWT-Extended å®˜æ–¹æ–‡æ¡£**ï¼š\n- [Flask-JWT-Extended Documentation](https://flask-jwt-extended.readthedocs.io/)\n- è¯¦ç»†ä»‹ç» JWT è®¤è¯å’Œæˆæƒçš„å®ç°æ–¹æ³•ã€‚\n\n4. **Flask-RESTful å®˜æ–¹æ–‡æ¡£**ï¼š\n- [Flask-RESTful Documentation](https://flask-restful.readthedocs.io/)\n- æä¾› RESTful API å¼€å‘çš„è¯¦ç»†æŒ‡å—ã€‚\n\n#### **å­¦ä¹ èµ„æº**\n1. **Flask Mega-Tutorial**ï¼š\n- [Flask Mega-Tutorial by Miguel Grinberg](https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world)\n- ä¸€ä¸ªéå¸¸è¯¦ç»†çš„ Flask æ•™ç¨‹ï¼Œé€‚åˆåˆå­¦è€…å’Œä¸­çº§å¼€å‘è€…ã€‚\n\n2. **Real Python Flask Tutorials**ï¼š\n- [Real Python Flask Tutorials](https://realpython.com/tutorials/flask/)\n- æä¾›ä¸€ç³»åˆ—é«˜è´¨é‡çš„ Flask æ•™ç¨‹å’Œæ–‡ç« ã€‚\n\n3. **Full Stack Python**ï¼š\n- [Full Stack Python - Flask](https://www.fullstackpython.com/flask.html)\n- æä¾› Flask çš„å…¨é¢ä»‹ç»å’Œç›¸å…³èµ„æºé“¾æ¥ã€‚\n\n4. **YouTube è§†é¢‘æ•™ç¨‹**ï¼š\n- [Flask Tutorial by Corey Schafer](https://www.youtube.com/playlist?list=PL-osiE80TeTs4UjLw5MM6OjgkjFeUxCYH)\n- ä¸€ä¸ªéå¸¸å—æ¬¢è¿çš„ Flask è§†é¢‘æ•™ç¨‹ç³»åˆ—ã€‚\n\n\n## **æ€»ç»“**\næœ¬é™„å½•æä¾›äº†ä¸€äº›å¸¸ç”¨çš„ Flask æ‰©å±•åº“ã€å‚è€ƒæ–‡æ¡£ä¸å­¦ä¹ èµ„æºï¼Œä»¥åŠå¸¸è§é—®é¢˜è§£ç­”ã€‚å¸Œæœ›è¿™äº›å†…å®¹èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£å’Œä½¿ç”¨ Flaskã€‚å¦‚æœä½ æœ‰å…¶ä»–é—®é¢˜ï¼Œæˆ–è€…éœ€è¦æ›´è¯¦ç»†çš„è§£é‡Šå’Œä»£ç ç¤ºä¾‹ï¼Œéšæ—¶å‘Šè¯‰æˆ‘ï¼ ğŸ˜„"
  },
  {
    "title": "10. API æ–‡æ¡£ä¸æµ‹è¯•",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Flask%20RESTful%20API%20%E5%B0%8F%E5%86%8C%E5%AD%90/10.%20API%20%E6%96%87%E6%A1%A3%E4%B8%8E%E6%B5%8B%E8%AF%95.md",
    "lang": "en",
    "filepath": "å¼€æºè½¯ä»¶/Flask RESTful API å°å†Œå­/10. API æ–‡æ¡£ä¸æµ‹è¯•.md",
    "content": "responses:\n200:\ndescription: A greeting message\n\"\"\"\nreturn 'Hello, World!'\n```\n\n#### **10.1.5 è®¿é—® Swagger UI**\nå¯åŠ¨åº”ç”¨åï¼Œè®¿é—® `http://127.0.0.1:5000/apidocs`ï¼Œå³å¯çœ‹åˆ°è‡ªåŠ¨ç”Ÿæˆçš„ Swagger æ–‡æ¡£ã€‚\n\n\n### **10.3 ä½¿ç”¨ Postman æµ‹è¯• API**\n\n#### **10.3.1 ä»€ä¹ˆæ˜¯ Postmanï¼Ÿ**\nPostman æ˜¯ä¸€ä¸ªæµè¡Œçš„ API æµ‹è¯•å·¥å…·ï¼Œæ”¯æŒå‘é€ HTTP è¯·æ±‚ã€æŸ¥çœ‹å“åº”å’Œè°ƒè¯• APIã€‚\n\n#### **10.3.2 ä½¿ç”¨ Postman æµ‹è¯• API**\n1. **ä¸‹è½½å¹¶å®‰è£… Postman**ï¼š\n- è®¿é—® [Postman å®˜æ–¹ç½‘ç«™](https://www.postman.com/downloads/)ï¼Œä¸‹è½½å¹¶å®‰è£… Postmanã€‚\n\n2. **åˆ›å»ºè¯·æ±‚**ï¼š\n- æ‰“å¼€ Postmanï¼Œç‚¹å‡» `New` -> `Request`ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„è¯·æ±‚ã€‚\n- è¾“å…¥è¯·æ±‚ URLï¼ˆå¦‚ `http://127.0.0.1:5000/register`ï¼‰ã€‚\n- é€‰æ‹©è¯·æ±‚æ–¹æ³•ï¼ˆå¦‚ `POST`ï¼‰ã€‚\n\n3. **è®¾ç½®è¯·æ±‚ä½“**ï¼š\n- é€‰æ‹© `Body` -> `raw`ï¼Œå¹¶é€‰æ‹© `JSON` æ ¼å¼ã€‚\n- è¾“å…¥ JSON æ•°æ®ï¼š\n```json\n{\n\"username\": \"Alice\",\n\"password\": \"password\",\n\"email\": \"alice@example.com\"\n}\n```\n\n4. **å‘é€è¯·æ±‚**ï¼š\n- ç‚¹å‡» `Send` æŒ‰é’®ï¼ŒæŸ¥çœ‹å“åº”ç»“æœã€‚\n\n5. **ä¿å­˜è¯·æ±‚**ï¼š\n- ç‚¹å‡» `Save` æŒ‰é’®ï¼Œå°†è¯·æ±‚ä¿å­˜åˆ°é›†åˆä¸­ï¼Œæ–¹ä¾¿åç»­æµ‹è¯•ã€‚\n\nparameters:\n- name: body\nin: body\nrequired: true\nschema:\ntype: object\nproperties:\nusername:\ntype: string\npassword:\ntype: string\nemail:\ntype: string\nresponses:\n201:\ndescription: User registered successfully\n400:\ndescription: Username or email already exists\n\"\"\"\ndata = request.get_json()\nusername = data.get('username')\npassword = data.get('password')\nemail = data.get('email')\n\nif User.query.filter_by(username=username).first():\nreturn jsonify({'message': 'Username already exists'}), 400\n\nnew_user = User(username=username, password=password, email=email)\ndb.session.add(new_user)\ndb.session.commit()\n\nreturn jsonify({'message': 'User registered successfully'}), 201\n\nif __name__ == '__main__':\napp.run(debug=True)\n```"
  },
  {
    "title": "3. Flask åŸºç¡€",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Flask%20RESTful%20API%20%E5%B0%8F%E5%86%8C%E5%AD%90/3.%20Flask%20%E5%9F%BA%E7%A1%80.md",
    "lang": "en",
    "filepath": "å¼€æºè½¯ä»¶/Flask RESTful API å°å†Œå­/3. Flask åŸºç¡€.md",
    "content": "### **3.2 è·¯ç”±ä¸è§†å›¾å‡½æ•°**\n\n#### **3.2.1 è·¯ç”±**\nè·¯ç”±æ˜¯ URL å’Œè§†å›¾å‡½æ•°ä¹‹é—´çš„æ˜ å°„ã€‚Flask ä½¿ç”¨ `@app.route()` è£…é¥°å™¨æ¥å®šä¹‰è·¯ç”±ã€‚\n\n- **åŸºæœ¬è·¯ç”±**ï¼š\n```python\n@app.route('/')\ndef home():\nreturn 'Welcome to the Home Page!'\n```\n\n- **å¸¦å‚æ•°çš„è·¯ç”±**ï¼š\n```python\n@app.route('/user/<username>')\ndef show_user_profile(username):\nreturn f'User: {username}'\n```\n\n- **æŒ‡å®š HTTP æ–¹æ³•**ï¼š\n```python\n@app.route('/login', methods=['GET', 'POST'])\ndef login():\nif request.method == 'POST':\nreturn 'Login POST'\nelse:\nreturn 'Login GET'\n```\n\n#### **3.2.2 è§†å›¾å‡½æ•°**\nè§†å›¾å‡½æ•°æ˜¯å¤„ç†è¯·æ±‚å¹¶è¿”å›å“åº”çš„å‡½æ•°ã€‚æ¯ä¸ªè·¯ç”±å¯¹åº”ä¸€ä¸ªè§†å›¾å‡½æ•°ã€‚\n\n- **è¿”å›å­—ç¬¦ä¸²**ï¼š\n```python\n@app.route('/')\ndef home():\nreturn 'Hello, World!'\n```\n\n- **è¿”å› JSON**ï¼š\n```python\nfrom flask import jsonify\n\n@app.route('/data')\ndef data():\nreturn jsonify({'name': 'Alice', 'age': 25})\n```\n\n\n### **3.4 è°ƒè¯•æ¨¡å¼**\n\nè°ƒè¯•æ¨¡å¼æ˜¯ Flask æä¾›çš„ä¸€ä¸ªå¼€å‘å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©å¼€å‘è€…å¿«é€Ÿå®šä½å’Œä¿®å¤é—®é¢˜ã€‚\n\n#### **3.4.1 å¯ç”¨è°ƒè¯•æ¨¡å¼**\nåœ¨è¿è¡Œåº”ç”¨æ—¶ï¼Œè®¾ç½® `debug=True`ï¼š\n```python\nif __name__ == '__main__':\napp.run(debug=True)\n```\n\n#### **3.4.2 è°ƒè¯•æ¨¡å¼çš„åŠŸèƒ½**\n1. **è‡ªåŠ¨é‡å¯**ï¼š\n- å½“ä»£ç å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒFlask ä¼šè‡ªåŠ¨é‡å¯åº”ç”¨ï¼Œæ— éœ€æ‰‹åŠ¨åœæ­¢å’Œå¯åŠ¨ã€‚\n\n2. **é”™è¯¯é¡µé¢**ï¼š\n- å¦‚æœåº”ç”¨å‘ç”Ÿé”™è¯¯ï¼ŒFlask ä¼šæ˜¾ç¤ºä¸€ä¸ªè¯¦ç»†çš„é”™è¯¯é¡µé¢ï¼ŒåŒ…å«é”™è¯¯ä¿¡æ¯å’Œå †æ ˆè·Ÿè¸ªã€‚\n\n3. **è°ƒè¯•å™¨**ï¼š\n- å¦‚æœå¯ç”¨äº†è°ƒè¯•å™¨ï¼ˆ`debug=True`ï¼‰ï¼Œå¯ä»¥åœ¨é”™è¯¯é¡µé¢ä¸­æ‰§è¡Œ Python ä»£ç ï¼Œå¸®åŠ©è°ƒè¯•é—®é¢˜ã€‚\n\n#### **3.4.3 æ³¨æ„äº‹é¡¹**\n- **ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¯ç”¨è°ƒè¯•æ¨¡å¼**ï¼š\n- è°ƒè¯•æ¨¡å¼ä¼šæš´éœ²åº”ç”¨çš„å†…éƒ¨ä¿¡æ¯ï¼Œå­˜åœ¨å®‰å…¨é£é™©ã€‚"
  },
  {
    "title": "ç›®å½•",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Flask%20RESTful%20API%20%E5%B0%8F%E5%86%8C%E5%AD%90/%E7%9B%AE%E5%BD%95.md",
    "lang": "en",
    "filepath": "å¼€æºè½¯ä»¶/Flask RESTful API å°å†Œå­/ç›®å½•.md",
    "content": "### **2. ç¯å¢ƒå‡†å¤‡**\n- 2.1 å®‰è£… Python å’Œ Flask\n- 2.2 åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ\n- 2.3 å®‰è£…å¸¸ç”¨åº“ï¼ˆFlask-RESTfulã€Flask-SQLAlchemy ç­‰ï¼‰\n\n\n### **4. æ„å»ºç¬¬ä¸€ä¸ª RESTful API**\n- 4.1 ä½¿ç”¨ Flask-RESTful\n- 4.2 å®šä¹‰èµ„æºç±»\n- 4.3 å¤„ç† GETã€POSTã€PUTã€DELETE è¯·æ±‚\n- 4.4 è¿”å› JSON æ•°æ®\n\n\n### **6. æ•°æ®åº“é›†æˆ**\n- 6.1 ä½¿ç”¨ Flask-SQLAlchemy è¿›è¡Œæ•°æ®åº“æ“ä½œ\n- 6.2 å®šä¹‰æ¨¡å‹ç±»\n- 6.3 æ•°æ®åº“è¿ç§»ï¼ˆFlask-Migrateï¼‰\n- 6.4 å®ç° CRUD æ“ä½œ\n\n\n### **8. é”™è¯¯å¤„ç†ä¸æ—¥å¿—**\n- 8.1 è‡ªå®šä¹‰é”™è¯¯å¤„ç†\n- 8.2 è¿”å›æ ‡å‡†åŒ–çš„é”™è¯¯å“åº”\n- 8.3 ä½¿ç”¨ Flask-Logging è®°å½•æ—¥å¿—\n- 8.4 é›†æˆ Sentry è¿›è¡Œé”™è¯¯è¿½è¸ª\n\n\n### **10. API æ–‡æ¡£ä¸æµ‹è¯•**\n- 10.1 ä½¿ç”¨ Flasgger è‡ªåŠ¨ç”Ÿæˆ Swagger æ–‡æ¡£\n- 10.2 ç¼–å†™å•å…ƒæµ‹è¯•ï¼ˆFlask-Testingã€pytestï¼‰\n- 10.3 ä½¿ç”¨ Postman æµ‹è¯• API\n\n\n### **12. å®æˆ˜é¡¹ç›®**\n- 12.1 é¡¹ç›®éœ€æ±‚åˆ†æ\n- 12.2 è®¾è®¡æ•°æ®åº“æ¨¡å‹\n- 12.3 å®ç°æ ¸å¿ƒåŠŸèƒ½ï¼ˆç”¨æˆ·ç®¡ç†ã€äº§å“ç®¡ç†ï¼‰\n- 12.4 ç¼–å†™æµ‹è¯•ç”¨ä¾‹\n- 12.5 éƒ¨ç½²ä¸Šçº¿\n\n\n## **å°å†Œå­ç‰¹ç‚¹**\n1. **å¾ªåºæ¸è¿›**ï¼šä»åŸºç¡€åˆ°è¿›é˜¶ï¼Œé€‚åˆä¸åŒæ°´å¹³çš„å¼€å‘è€…ã€‚\n2. **å®æˆ˜å¯¼å‘**ï¼šæ¯ä¸ªç« èŠ‚éƒ½åŒ…å«ä»£ç ç¤ºä¾‹å’Œå®æˆ˜ç»ƒä¹ ã€‚\n3. **å…¨é¢è¦†ç›–**ï¼šæ¶µç›– RESTful API å¼€å‘çš„å„ä¸ªæ–¹é¢ï¼ŒåŒ…æ‹¬æ•°æ®åº“ã€è®¤è¯ã€æ–‡æ¡£ã€æµ‹è¯•å’Œéƒ¨ç½²ã€‚\n4. **å·¥å…·ä¸°å¯Œ**ï¼šä»‹ç»å¸¸ç”¨çš„ Flask æ‰©å±•åº“å’Œå·¥å…·ï¼Œå¦‚ Flask-RESTfulã€Flask-SQLAlchemyã€Flasgger ç­‰ã€‚\n\n\nå¦‚æœä½ éœ€è¦æ›´è¯¦ç»†çš„å†…å®¹æˆ–ä»£ç ç¤ºä¾‹ï¼Œå¯ä»¥å‘Šè¯‰æˆ‘å…·ä½“çš„ç« èŠ‚ï¼Œæˆ‘ä¼šä¸ºä½ æä¾›æ›´è¯¦ç»†çš„è§£é‡Šå’Œç¤ºä¾‹ä»£ç ï¼ ğŸ˜„"
  },
  {
    "title": "11. éƒ¨ç½²ä¸ä¼˜åŒ–",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Flask%20RESTful%20API%20%E5%B0%8F%E5%86%8C%E5%AD%90/11.%20%E9%83%A8%E7%BD%B2%E4%B8%8E%E4%BC%98%E5%8C%96.md",
    "lang": "en",
    "filepath": "å¼€æºè½¯ä»¶/Flask RESTful API å°å†Œå­/11. éƒ¨ç½²ä¸ä¼˜åŒ–.md",
    "content": "### **11.2 ä½¿ç”¨ Nginx ä½œä¸ºåå‘ä»£ç†**\n\n#### **11.2.1 ä»€ä¹ˆæ˜¯ Nginxï¼Ÿ**\nNginx æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ HTTP æœåŠ¡å™¨å’Œåå‘ä»£ç†æœåŠ¡å™¨ï¼Œå¸¸ç”¨äºè´Ÿè½½å‡è¡¡å’Œé™æ€æ–‡ä»¶æœåŠ¡ã€‚\n\n#### **11.2.2 å®‰è£… Nginx**\nåœ¨ Ubuntu ä¸Šå®‰è£… Nginxï¼š\n```bash\nsudo apt update\nsudo apt install nginx\n```\n\n#### **11.2.3 é…ç½® Nginx**\n1. ç¼–è¾‘ Nginx é…ç½®æ–‡ä»¶ï¼š\n```bash\nsudo nano /etc/nginx/sites-available/myapp\n```\n\n2. æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š\n```nginx\nserver {\nlisten 80;\nserver_name your_domain.com;\n\nlocation / {\nproxy_pass http://127.0.0.1:8000;\nproxy_set_header Host $host;\nproxy_set_header X-Real-IP $remote_addr;\nproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\nproxy_set_header X-Forwarded-Proto $scheme;\n}\n}\n```\n\n3. åˆ›å»ºç¬¦å·é“¾æ¥å¹¶é‡å¯ Nginxï¼š\n```bash\nsudo ln -s /etc/nginx/sites-available/myapp /etc/nginx/sites-enabled/\nsudo nginx -t  # æµ‹è¯•é…ç½®æ–‡ä»¶\nsudo systemctl restart nginx\n```\n\n#### **11.2.4 è®¿é—®åº”ç”¨**\né€šè¿‡æµè§ˆå™¨è®¿é—® `http://your_domain.com`ï¼Œå³å¯çœ‹åˆ° Flask åº”ç”¨ã€‚\n\n\n### **11.4 æ€§èƒ½ä¼˜åŒ–å»ºè®®**\n\n#### **11.4.1 ä½¿ç”¨ç¼“å­˜**\n- **Flask-Caching**ï¼šç¼“å­˜é¢‘ç¹è®¿é—®çš„æ•°æ®ï¼Œå‡å°‘æ•°æ®åº“æŸ¥è¯¢ã€‚\n- **Redis**ï¼šä½œä¸ºåˆ†å¸ƒå¼ç¼“å­˜ï¼Œæå‡ç¼“å­˜æ€§èƒ½ã€‚\n\n#### **11.4.2 æ•°æ®åº“ä¼˜åŒ–**\n- **ç´¢å¼•**ï¼šä¸ºå¸¸ç”¨æŸ¥è¯¢å­—æ®µæ·»åŠ ç´¢å¼•ã€‚\n- **åˆ†é¡µ**ï¼šå‡å°‘å•æ¬¡æŸ¥è¯¢çš„æ•°æ®é‡ã€‚\n- **è¿æ¥æ± **ï¼šä½¿ç”¨æ•°æ®åº“è¿æ¥æ± ï¼Œå‡å°‘è¿æ¥å¼€é”€ã€‚\n\n#### **11.4.3 å¼‚æ­¥ä»»åŠ¡**\n- **Celery**ï¼šå°†è€—æ—¶ä»»åŠ¡ï¼ˆå¦‚å‘é€é‚®ä»¶ã€å¤„ç†æ–‡ä»¶ï¼‰æ”¾åˆ°åå°æ‰§è¡Œã€‚\n\n#### **11.4.4 é™æ€æ–‡ä»¶æœåŠ¡**\n- **Nginx**ï¼šä½¿ç”¨ Nginx æä¾›é™æ€æ–‡ä»¶æœåŠ¡ï¼Œå‡è½» Flask çš„è´Ÿæ‹…ã€‚\n\n#### **11.4.5 ä»£ç ä¼˜åŒ–**\n- **å‡å°‘æ•°æ®åº“æŸ¥è¯¢**ï¼šä½¿ç”¨ `joinedload` æˆ– `subqueryload` ä¼˜åŒ–å…³è”æŸ¥è¯¢ã€‚\n- **é¿å…é‡å¤è®¡ç®—**ï¼šç¼“å­˜è®¡ç®—ç»“æœï¼Œå‡å°‘ CPU å¼€é”€ã€‚"
  },
  {
    "title": "é›†æˆ OAuth å’Œ OIDC å®ç°å•ç‚¹ç™»å½•ï¼ˆSSOï¼‰**",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Flask%20RESTful%20API%20%E5%B0%8F%E5%86%8C%E5%AD%90/%E9%9B%86%E6%88%90%20OAuth%20%E5%92%8C%20OIDC%20%E5%AE%9E%E7%8E%B0%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95%EF%BC%88SSO%EF%BC%89%2A%2A.md",
    "lang": "en",
    "filepath": "å¼€æºè½¯ä»¶/Flask RESTful API å°å†Œå­/é›†æˆ OAuth å’Œ OIDC å®ç°å•ç‚¹ç™»å½•ï¼ˆSSOï¼‰**.md",
    "content": "### **13.4.2 ä½¿ç”¨ Flask-OAuthlib å®ç° OAuth**\n\n#### **13.4.2.1 å®‰è£… Flask-OAuthlib**\n```bash\npip install Flask-OAuthlib\n```\n\n#### **13.4.2.2 é…ç½® OAuth å®¢æˆ·ç«¯**\nä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨ GitHub ä½œä¸º OAuth æä¾›è€…çš„ç¤ºä¾‹ï¼š\n```python\nfrom flask import Flask, redirect, url_for, session\nfrom flask_oauthlib.client import OAuth\n\napp = Flask(__name__)\napp.secret_key = 'your-secret-key'\n\noauth = OAuth(app)\n\ngithub = oauth.remote_app(\n'github',\nconsumer_key='your-github-client-id',\nconsumer_secret='your-github-client-secret',\nrequest_token_params={'scope': 'user:email'},\nbase_url='https://api.github.com/',\nrequest_token_url=None,\naccess_token_method='POST',\naccess_token_url='https://github.com/login/oauth/access_token',\nauthorize_url='https://github.com/login/oauth/authorize'\n)\n\n@app.route('/login')\ndef login():\nreturn github.authorize(callback=url_for('authorized', _external=True))\n\n@app.route('/logout')\ndef logout():\nsession.pop('github_token', None)\nreturn 'Logged out'\n\n@app.route('/login/authorized')\ndef authorized():\nresponse = github.authorized_response()\nif response is None or response.get('access_token') is None:\nreturn 'Access denied: reason={} error={}'.format(\nrequest.args['error_reason'],\nrequest.args['error_description']\n)\n\nsession['github_token'] = (response['access_token'], '')\nreturn 'Logged in as: {}'.format(github.get('user').data['login'])\n\n@github.tokengetter\ndef get_github_oauth_token():\nreturn session.get('github_token')\n\nif __name__ == '__main__':\napp.run(debug=True)\n```\n\n#### **13.4.2.3 æ³¨å†Œ GitHub OAuth åº”ç”¨**\n1. ç™»å½• GitHubï¼Œè¿›å…¥ **Settings** -> **Developer settings** -> **OAuth Apps**ã€‚\n2. ç‚¹å‡» **New OAuth App**ï¼Œå¡«å†™åº”ç”¨ä¿¡æ¯ã€‚\n3. è·å– `Client ID` å’Œ `Client Secret`ï¼Œæ›¿æ¢ä»£ç ä¸­çš„ `your-github-client-id` å’Œ `your-github-client-secret`ã€‚\n\n\n### **13.4.4 å¸¸è§é—®é¢˜è§£ç­”ï¼ˆFAQï¼‰**\n\n#### **Q1ï¼šOAuth å’Œ OIDC æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ**\n- **OAuth**ï¼šä¸»è¦ç”¨äºæˆæƒï¼Œå…è®¸ç¬¬ä¸‰æ–¹åº”ç”¨è®¿é—®ç”¨æˆ·èµ„æºã€‚\n- **OIDC**ï¼šåœ¨ OAuth çš„åŸºç¡€ä¸Šå¢åŠ äº†èº«ä»½éªŒè¯åŠŸèƒ½ï¼Œæä¾›ç”¨æˆ·èº«ä»½ä¿¡æ¯ã€‚\n\n#### **Q2ï¼šå¦‚ä½•é€‰æ‹© OAuth æä¾›è€…ï¼Ÿ**\n- æ ¹æ®éœ€æ±‚é€‰æ‹©æä¾›è€…ã€‚ä¾‹å¦‚ï¼š\n- **GitHub**ï¼šé€‚åˆå¼€å‘è€…ç¤¾åŒºã€‚\n- **Google**ï¼šé€‚åˆæ™®é€šç”¨æˆ·ã€‚\n- **Microsoft**ï¼šé€‚åˆä¼ä¸šç”¨æˆ·ã€‚\n\n#### **Q3ï¼šå¦‚ä½•ä¿æŠ¤ OAuth å’Œ OIDC çš„æ•æ„Ÿä¿¡æ¯ï¼Ÿ**\n- ä½¿ç”¨ç¯å¢ƒå˜é‡å­˜å‚¨ `Client ID` å’Œ `Client Secret`ã€‚\n- ä½¿ç”¨ HTTPS åŠ å¯†é€šä¿¡ã€‚\n\n#### **Q4ï¼šå¦‚ä½•å¤„ç† OAuth å’Œ OIDC çš„å›è°ƒï¼Ÿ**\n- ç¡®ä¿å›è°ƒ URL ä¸æ³¨å†Œçš„åº”ç”¨é…ç½®ä¸€è‡´ã€‚\n- åœ¨å›è°ƒè·¯ç”±ä¸­å¤„ç†æˆæƒç å¹¶è·å–è®¿é—®ä»¤ç‰Œã€‚"
  },
  {
    "title": "6. æ•°æ®åº“é›†æˆ",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Flask%20RESTful%20API%20%E5%B0%8F%E5%86%8C%E5%AD%90/6.%20%E6%95%B0%E6%8D%AE%E5%BA%93%E9%9B%86%E6%88%90.md",
    "lang": "en",
    "filepath": "å¼€æºè½¯ä»¶/Flask RESTful API å°å†Œå­/6. æ•°æ®åº“é›†æˆ.md",
    "content": "### **6.2 å®šä¹‰æ¨¡å‹ç±»**\n\n#### **6.2.1 ä»€ä¹ˆæ˜¯æ¨¡å‹ç±»ï¼Ÿ**\næ¨¡å‹ç±»æ˜¯æ•°æ®åº“è¡¨çš„ Python è¡¨ç¤ºã€‚æ¯ä¸ªæ¨¡å‹ç±»å¯¹åº”ä¸€å¼ è¡¨ï¼Œç±»çš„å±æ€§å¯¹åº”è¡¨çš„å­—æ®µã€‚\n\n#### **6.2.2 å®šä¹‰ç”¨æˆ·æ¨¡å‹ç±»**\nä»¥ä¸‹æ˜¯ä¸€ä¸ªç”¨æˆ·æ¨¡å‹ç±»çš„ç¤ºä¾‹ï¼š\n```python\nclass User(db.Model):\nid = db.Column(db.Integer, primary_key=True)  # ä¸»é”®\nusername = db.Column(db.String(50), unique=True, nullable=False)  # ç”¨æˆ·åï¼Œå”¯ä¸€ä¸”éç©º\nemail = db.Column(db.String(100), unique=True, nullable=False)  # é‚®ç®±ï¼Œå”¯ä¸€ä¸”éç©º\n\ndef __repr__(self):\nreturn f'<User {self.username}>'\n```\n\n- **å­—æ®µç±»å‹**ï¼š\n- `db.Integer`ï¼šæ•´æ•°å­—æ®µã€‚\n- `db.String`ï¼šå­—ç¬¦ä¸²å­—æ®µã€‚\n- `db.Boolean`ï¼šå¸ƒå°”å­—æ®µã€‚\n- `db.DateTime`ï¼šæ—¥æœŸæ—¶é—´å­—æ®µã€‚\n\n- **å­—æ®µå‚æ•°**ï¼š\n- `primary_key`ï¼šæ˜¯å¦ä¸ºä¸»é”®ã€‚\n- `unique`ï¼šæ˜¯å¦å”¯ä¸€ã€‚\n- `nullable`ï¼šæ˜¯å¦å…è®¸ä¸ºç©ºã€‚\n\n#### **6.2.3 åˆ›å»ºæ•°æ®åº“è¡¨**\nåœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤åˆ›å»ºæ•°æ®åº“è¡¨ï¼š\n```bash\nflask shell\n>>> from app import db\n>>> db.create_all()\n```\n\nè¿™ä¼šåœ¨é¡¹ç›®ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª SQLite æ•°æ®åº“æ–‡ä»¶ `mydatabase.db`ï¼Œå¹¶åˆ›å»º `User` è¡¨ã€‚\n\n\n### **6.4 å®ç° CRUD æ“ä½œ**\n\n#### **6.4.1 åˆ›å»ºï¼ˆCreateï¼‰**\n- **æ·»åŠ æ–°ç”¨æˆ·**ï¼š\n```python\nnew_user = User(username='Alice', email='alice@example.com')\ndb.session.add(new_user)\ndb.session.commit()\n```\n\n#### **6.4.2 è¯»å–ï¼ˆReadï¼‰**\n- **è·å–æ‰€æœ‰ç”¨æˆ·**ï¼š\n```python\nusers = User.query.all()\n```\n\n- **è·å–å•ä¸ªç”¨æˆ·**ï¼š\n```python\nuser = User.query.get(1)  # è·å– ID ä¸º 1 çš„ç”¨æˆ·\n```\n\n- **æ¡ä»¶æŸ¥è¯¢**ï¼š\n```python\nuser = User.query.filter_by(username='Alice').first()\n```\n\n#### **6.4.3 æ›´æ–°ï¼ˆUpdateï¼‰**\n- **æ›´æ–°ç”¨æˆ·ä¿¡æ¯**ï¼š\n```python\nuser = User.query.get(1)\nuser.email = 'new_email@example.com'\ndb.session.commit()\n```\n\n#### **6.4.4 åˆ é™¤ï¼ˆDeleteï¼‰**\n- **åˆ é™¤ç”¨æˆ·**ï¼š\n```python\nuser = User.query.get(1)\ndb.session.delete(user)\ndb.session.commit()\n```\n\n\n## **æ€»ç»“**\né€šè¿‡æœ¬ç« çš„å­¦ä¹ ï¼Œä½ å·²ç»æŒæ¡äº†ä»¥ä¸‹å†…å®¹ï¼š\n1. å¦‚ä½•ä½¿ç”¨ Flask-SQLAlchemy è¿›è¡Œæ•°æ®åº“æ“ä½œã€‚\n2. å¦‚ä½•å®šä¹‰æ¨¡å‹ç±»å¹¶åˆ›å»ºæ•°æ®åº“è¡¨ã€‚\n3. å¦‚ä½•ä½¿ç”¨ Flask-Migrate è¿›è¡Œæ•°æ®åº“è¿ç§»ã€‚\n4. å¦‚ä½•å®ç° CRUD æ“ä½œã€‚\n\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è¿›å…¥ **7. ç”¨æˆ·è®¤è¯ä¸æˆæƒ**ï¼Œå­¦ä¹ å¦‚ä½•ä½¿ç”¨ Flask-JWT-Extended å®ç° JWT è®¤è¯ã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ï¼Œæˆ–è€…éœ€è¦æ›´è¯¦ç»†çš„è§£é‡Šå’Œä»£ç ç¤ºä¾‹ï¼Œéšæ—¶å‘Šè¯‰æˆ‘ï¼ ğŸ˜„"
  },
  {
    "title": "8. é”™è¯¯å¤„ç†ä¸æ—¥å¿—",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Flask%20RESTful%20API%20%E5%B0%8F%E5%86%8C%E5%AD%90/8.%20%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86%E4%B8%8E%E6%97%A5%E5%BF%97.md",
    "lang": "en",
    "filepath": "å¼€æºè½¯ä»¶/Flask RESTful API å°å†Œå­/8. é”™è¯¯å¤„ç†ä¸æ—¥å¿—.md",
    "content": "### **8.2 è¿”å›æ ‡å‡†åŒ–çš„é”™è¯¯å“åº”**\n\n#### **8.2.1 ä»€ä¹ˆæ˜¯æ ‡å‡†åŒ–çš„é”™è¯¯å“åº”ï¼Ÿ**\næ ‡å‡†åŒ–çš„é”™è¯¯å“åº”æ˜¯æŒ‡æ‰€æœ‰é”™è¯¯éƒ½éµå¾ªç›¸åŒçš„æ ¼å¼ï¼Œä¾¿äºå®¢æˆ·ç«¯è§£æå’Œå¤„ç†ã€‚\n\n#### **8.2.2 ç¤ºä¾‹ï¼šæ ‡å‡†åŒ–çš„é”™è¯¯å“åº”**\nå®šä¹‰ä¸€ä¸ªé€šç”¨çš„é”™è¯¯å“åº”æ ¼å¼ï¼š\n```python\ndef error_response(message, status_code):\nreturn jsonify({\n'success': False,\n'error': {\n'code': status_code,\n'message': message\n}\n}), status_code\n```\n\nåœ¨é”™è¯¯å¤„ç†ä¸­ä½¿ç”¨ï¼š\n```python\n@app.errorhandler(404)\ndef not_found(error):\nreturn error_response('Resource not found', 404)\n\n@app.errorhandler(500)\ndef internal_error(error):\nreturn error_response('Internal server error', 500)\n```\n\n#### **8.2.3 è¿”å›ç¤ºä¾‹**\n- **404 é”™è¯¯**ï¼š\n```json\n{\n\"success\": false,\n\"error\": {\n\"code\": 404,\n\"message\": \"Resource not found\"\n}\n}\n```\n\n- **500 é”™è¯¯**ï¼š\n```json\n{\n\"success\": false,\n\"error\": {\n\"code\": 500,\n\"message\": \"Internal server error\"\n}\n}\n```\n\n\n### **8.4 é›†æˆ Sentry è¿›è¡Œé”™è¯¯è¿½è¸ª**\n\n#### **8.4.1 ä»€ä¹ˆæ˜¯ Sentryï¼Ÿ**\nSentry æ˜¯ä¸€ä¸ªå¼€æºçš„é”™è¯¯è¿½è¸ªå·¥å…·ï¼Œå¯ä»¥å¸®åŠ©å¼€å‘è€…å®æ—¶ç›‘æ§å’Œä¿®å¤åº”ç”¨ä¸­çš„é”™è¯¯ã€‚\n\n#### **8.4.2 å®‰è£… Sentry**\nå¦‚æœä½ è¿˜æ²¡æœ‰å®‰è£… Sentryï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š\n```bash\npip install sentry-sdk[flask]\n```\n\n#### **8.4.3 é…ç½® Sentry**\nåœ¨ `app.py` ä¸­é…ç½® Sentryï¼š\n```python\nimport sentry_sdk\nfrom sentry_sdk.integrations.flask import FlaskIntegration\n\n# åˆå§‹åŒ– Sentry\nsentry_sdk.init(\ndsn='your-sentry-dsn',  # æ›¿æ¢ä¸ºä½ çš„ Sentry DSN\nintegrations=[FlaskIntegration()],\ntraces_sample_rate=1.0\n)\n```\n\n- **dsn**ï¼šSentry é¡¹ç›®çš„ DSNï¼ˆæ•°æ®æºåç§°ï¼‰ã€‚\n- **FlaskIntegration**ï¼šé›†æˆ Flask åº”ç”¨ã€‚\n- **traces_sample_rate**ï¼šé‡‡æ ·ç‡ï¼ˆ0.0 åˆ° 1.0ï¼‰ã€‚\n\n#### **8.4.4 æµ‹è¯• Sentry**\nåœ¨ä»£ç ä¸­è§¦å‘ä¸€ä¸ªé”™è¯¯ï¼ŒSentry ä¼šè‡ªåŠ¨æ•è·å¹¶è®°å½•ï¼š\n```python\n@app.route('/sentry-error')\ndef sentry_error():\ndivision_by_zero = 1 / 0  # è§¦å‘é”™è¯¯\nreturn 'This will not be reached'\n```\n\n\n## **æ€»ç»“**\né€šè¿‡æœ¬ç« çš„å­¦ä¹ ï¼Œä½ å·²ç»æŒæ¡äº†ä»¥ä¸‹å†…å®¹ï¼š\n1. å¦‚ä½•è‡ªå®šä¹‰é”™è¯¯å¤„ç†å¹¶è¿”å›æ ‡å‡†åŒ–çš„é”™è¯¯å“åº”ã€‚\n2. å¦‚ä½•ä½¿ç”¨ Flask-Logging è®°å½•æ—¥å¿—ã€‚\n3. å¦‚ä½•é›†æˆ Sentry è¿›è¡Œé”™è¯¯è¿½è¸ªã€‚\n\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è¿›å…¥ **9. é«˜çº§åŠŸèƒ½**ï¼Œå­¦ä¹ å¦‚ä½•å®ç°åˆ†é¡µã€ç¼“å­˜å’Œæ–‡ä»¶ä¸Šä¼ ç­‰é«˜çº§åŠŸèƒ½ã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ï¼Œæˆ–è€…éœ€è¦æ›´è¯¦ç»†çš„è§£é‡Šå’Œä»£ç ç¤ºä¾‹ï¼Œéšæ—¶å‘Šè¯‰æˆ‘ï¼ ğŸ˜„"
  },
  {
    "title": "9. é«˜çº§åŠŸèƒ½",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Flask%20RESTful%20API%20%E5%B0%8F%E5%86%8C%E5%AD%90/9.%20%E9%AB%98%E7%BA%A7%E5%8A%9F%E8%83%BD.md",
    "lang": "en",
    "filepath": "å¼€æºè½¯ä»¶/Flask RESTful API å°å†Œå­/9. é«˜çº§åŠŸèƒ½.md",
    "content": "### **9.2 ç¼“å­˜ï¼ˆFlask-Cachingï¼‰**\n\n#### **9.2.1 ä»€ä¹ˆæ˜¯ç¼“å­˜ï¼Ÿ**\nç¼“å­˜æ˜¯å°†é¢‘ç¹è®¿é—®çš„æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œä»¥å‡å°‘æ•°æ®åº“æŸ¥è¯¢æˆ–è®¡ç®—çš„å¼€é”€ã€‚\n\n#### **9.2.2 å®‰è£… Flask-Caching**\nå¦‚æœä½ è¿˜æ²¡æœ‰å®‰è£… Flask-Cachingï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š\n```bash\npip install Flask-Caching\n```\n\n#### **9.2.3 é…ç½®ç¼“å­˜**\nåœ¨ `app.py` ä¸­é…ç½®ç¼“å­˜ï¼š\n```python\nfrom flask_caching import Cache\n\napp.config['CACHE_TYPE'] = 'SimpleCache'  # ä½¿ç”¨ç®€å•ç¼“å­˜\napp.config['CACHE_DEFAULT_TIMEOUT'] = 300  # ç¼“å­˜é»˜è®¤è¿‡æœŸæ—¶é—´ï¼ˆç§’ï¼‰\n\ncache = Cache(app)\n```\n\n#### **9.2.4 ä½¿ç”¨ç¼“å­˜**\n- **ç¼“å­˜è§†å›¾å‡½æ•°**ï¼š\n```python\n@app.route('/cached')\n@cache.cached(timeout=60)  # ç¼“å­˜ 60 ç§’\ndef cached():\nreturn 'This response is cached'\n```\n\n- **ç¼“å­˜æ•°æ®**ï¼š\n```python\n@app.route('/users', methods=['GET'])\ndef get_users():\nusers = cache.get('users')\nif users is None:\nusers = [user.username for user in User.query.all()]\ncache.set('users', users, timeout=60)\nreturn jsonify(users)\n```\n\n\n### **9.4 å¼‚æ­¥ä»»åŠ¡ï¼ˆCeleryï¼‰**\n\n#### **9.4.1 ä»€ä¹ˆæ˜¯å¼‚æ­¥ä»»åŠ¡ï¼Ÿ**\nå¼‚æ­¥ä»»åŠ¡æ˜¯æŒ‡å°†è€—æ—¶æ“ä½œï¼ˆå¦‚å‘é€é‚®ä»¶ã€å¤„ç†æ–‡ä»¶ï¼‰æ”¾åˆ°åå°æ‰§è¡Œï¼Œé¿å…é˜»å¡ä¸»çº¿ç¨‹ã€‚\n\n#### **9.4.2 å®‰è£… Celery**\nå¦‚æœä½ è¿˜æ²¡æœ‰å®‰è£… Celeryï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š\n```bash\npip install celery\n```\n\n#### **9.4.3 é…ç½® Celery**\nåœ¨ `app.py` ä¸­é…ç½® Celeryï¼š\n```python\nfrom celery import Celery\n\napp.config['CELERY_BROKER_URL'] = 'redis://localhost:6379/0'\napp.config['CELERY_RESULT_BACKEND'] = 'redis://localhost:6379/0'\n\ncelery = Celery(app.name, broker=app.config['CELERY_BROKER_URL'])\ncelery.conf.update(app.config)\n```\n\n#### **9.4.4 å®šä¹‰å¼‚æ­¥ä»»åŠ¡**\n- **ç¤ºä¾‹ï¼šå‘é€é‚®ä»¶ä»»åŠ¡**\n```python\n@celery.task\ndef send_email(email, message):\n# æ¨¡æ‹Ÿå‘é€é‚®ä»¶\nimport time\ntime.sleep(5)\nprint(f'Email sent to {email}: {message}')\n```\n\n#### **9.4.5 è°ƒç”¨å¼‚æ­¥ä»»åŠ¡**\nåœ¨è§†å›¾å‡½æ•°ä¸­è°ƒç”¨å¼‚æ­¥ä»»åŠ¡ï¼š\n```python\n@app.route('/send-email', methods=['POST'])\ndef send_email_route():\ndata = request.get_json()\nemail = data.get('email')\nmessage = data.get('message')\nsend_email.delay(email, message)  # å¼‚æ­¥è°ƒç”¨\nreturn jsonify({'message': 'Email is being sent'}), 202\n```\n\n\n## **æ€»ç»“**\né€šè¿‡æœ¬ç« çš„å­¦ä¹ ï¼Œä½ å·²ç»æŒæ¡äº†ä»¥ä¸‹å†…å®¹ï¼š\n1. å¦‚ä½•å®ç°åˆ†é¡µä¸è¿‡æ»¤ã€‚\n2. å¦‚ä½•ä½¿ç”¨ Flask-Caching è¿›è¡Œç¼“å­˜ã€‚\n3. å¦‚ä½•å¤„ç†æ–‡ä»¶ä¸Šä¼ ä¸å­˜å‚¨ã€‚\n4. å¦‚ä½•ä½¿ç”¨ Celery å®ç°å¼‚æ­¥ä»»åŠ¡ã€‚\n\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è¿›å…¥ **10. API æ–‡æ¡£ä¸æµ‹è¯•**ï¼Œå­¦ä¹ å¦‚ä½•ç”Ÿæˆ API æ–‡æ¡£å’Œç¼–å†™æµ‹è¯•ç”¨ä¾‹ã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ï¼Œæˆ–è€…éœ€è¦æ›´è¯¦ç»†çš„è§£é‡Šå’Œä»£ç ç¤ºä¾‹ï¼Œéšæ—¶å‘Šè¯‰æˆ‘ï¼ ğŸ˜„"
  },
  {
    "title": "1. ç®€ä»‹",
    "created": "2025-03-21T11:28:23.166102",
    "updated": "2025-03-21T11:28:23.166102",
    "category": "Uncategorized",
    "subcategory": "",
    "tags": [],
    "url": "obsidian://open?vault=markdown&file=%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6/Flask%20RESTful%20API%20%E5%B0%8F%E5%86%8C%E5%AD%90/1.%20%E7%AE%80%E4%BB%8B.md",
    "lang": "en",
    "filepath": "å¼€æºè½¯ä»¶/Flask RESTful API å°å†Œå­/1. ç®€ä»‹.md",
    "content": "### **1.2 ä¸ºä»€ä¹ˆé€‰æ‹© Flask æ„å»º RESTful APIï¼Ÿ**\n\n#### **1.2.1 Flask çš„ç‰¹ç‚¹**\nFlask æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ Python Web æ¡†æ¶ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š\n1. **è½»é‡çµæ´»**ï¼š\n- Flask æ ¸å¿ƒåŠŸèƒ½ç®€å•ï¼Œæ²¡æœ‰è¿‡å¤šçš„çº¦æŸï¼Œå¼€å‘è€…å¯ä»¥æ ¹æ®éœ€æ±‚è‡ªç”±é€‰æ‹©æ‰©å±•åº“ã€‚\n- é€‚åˆå¿«é€Ÿå¼€å‘å°å‹é¡¹ç›®æˆ–åŸå‹ã€‚\n\n2. **æ˜“äºå­¦ä¹ **ï¼š\n- Flask çš„ API è®¾è®¡ç®€æ´æ˜äº†ï¼Œå­¦ä¹ æ›²çº¿ä½ï¼Œé€‚åˆåˆå­¦è€…ã€‚\n- æ–‡æ¡£ä¸°å¯Œï¼Œç¤¾åŒºæ”¯æŒå¼ºå¤§ã€‚\n\n3. **æ‰©å±•æ€§å¼º**ï¼š\n- é€šè¿‡é›†æˆå„ç§æ‰©å±•åº“ï¼ˆå¦‚ Flask-RESTfulã€Flask-SQLAlchemyï¼‰ï¼Œå¯ä»¥å®ç°å¤æ‚çš„åŠŸèƒ½ã€‚\n- æ”¯æŒæ•°æ®åº“æ“ä½œã€ç”¨æˆ·è®¤è¯ã€API æ–‡æ¡£ç”Ÿæˆç­‰ã€‚\n\n4. **é«˜æ€§èƒ½**ï¼š\n- Flask æœ¬èº«æ€§èƒ½è¾ƒé«˜ï¼Œé€‚åˆæ„å»ºé«˜æ€§èƒ½çš„ API æœåŠ¡ã€‚\n- å¯ä»¥é€šè¿‡å¼‚æ­¥ä»»åŠ¡ï¼ˆå¦‚ Celeryï¼‰è¿›ä¸€æ­¥æå‡æ€§èƒ½ã€‚\n\n5. **é€‚åˆå¾®æœåŠ¡**ï¼š\n- Flask çš„è½»é‡ç‰¹æ€§ä½¿å…¶éå¸¸é€‚åˆæ„å»ºå¾®æœåŠ¡æ¶æ„ä¸­çš„å•ä¸ªæœåŠ¡ã€‚\n\n#### **1.2.2 Flask ä¸å…¶ä»–æ¡†æ¶çš„å¯¹æ¯”**\n| æ¡†æ¶          | ç‰¹ç‚¹                          | é€‚ç”¨åœºæ™¯                     |\n|---------------|-------------------------------|------------------------------|\n| Flask         | è½»é‡ã€çµæ´»                    | å°å‹é¡¹ç›®ã€RESTful API         |\n| Django        | å…¨åŠŸèƒ½ã€è‡ªå¸¦ ORM              | ä¸­å¤§å‹é¡¹ç›®ã€å…¨æ ˆå¼€å‘          |\n| FastAPI       | é«˜æ€§èƒ½ã€å¼‚æ­¥ã€è‡ªåŠ¨æ–‡æ¡£         | é«˜æ€§èƒ½ APIã€å®æ—¶åº”ç”¨          |\n| Tornado       | å¼‚æ­¥ã€é«˜å¹¶å‘                  | å®æ—¶åº”ç”¨ã€é•¿è¿æ¥æœåŠ¡          |\n\n#### **1.2.3 Flask çš„ç”Ÿæ€ç³»ç»Ÿ**\nFlask æ‹¥æœ‰ä¸°å¯Œçš„æ‰©å±•åº“ï¼Œå¯ä»¥å¿«é€Ÿå®ç°å„ç§åŠŸèƒ½ï¼š\n- **æ•°æ®åº“**ï¼šFlask-SQLAlchemyã€Flask-Migrate\n- **ç”¨æˆ·è®¤è¯**ï¼šFlask-Loginã€Flask-JWT-Extended\n- **API æ–‡æ¡£**ï¼šFlasgger\n- **è¡¨å•å¤„ç†**ï¼šFlask-WTF\n- **æ–‡ä»¶ä¸Šä¼ **ï¼šFlask-Uploads\n- **ç¼“å­˜**ï¼šFlask-Caching\n\n\n## **æ€»ç»“**\næœ¬ç« ä»‹ç»äº† RESTful API çš„æ¦‚å¿µã€é€‰æ‹© Flask çš„åŸå› ä»¥åŠå°å†Œå­çš„ç›®æ ‡å’Œç»“æ„ã€‚é€šè¿‡æœ¬ç« çš„å­¦ä¹ ï¼Œä½ åº”è¯¥å¯¹ RESTful API å’Œ Flask æœ‰äº†åˆæ­¥çš„äº†è§£ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä» Flask çš„åŸºç¡€å¼€å§‹ï¼Œé€æ­¥æ„å»ºä¸€ä¸ªå®Œæ•´çš„ RESTful APIã€‚\n\nå¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ï¼Œæˆ–è€…éœ€è¦æ›´è¯¦ç»†çš„è§£é‡Šå’Œä»£ç ç¤ºä¾‹ï¼Œéšæ—¶å‘Šè¯‰æˆ‘ï¼ ğŸ˜„"
  }
]